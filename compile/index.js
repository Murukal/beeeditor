/*! For license information please see index.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["react","react-dom"],t);else{var n="object"==typeof exports?t(require("react"),require("react-dom")):t(e.react,e["react-dom"]);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,((e,t)=>(()=>{var n={6907:(e,t,n)=>{"use strict";const r=n(1313);e.exports=r},1313:(e,t,n)=>{var r=n(9408),o=n(6969),i=n(2998);function s(e){throw Error(`Minified Lexical error #${e}; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const a=new Set(["STYLE"]);function l(e,t,n){var r=n;if(i.$isRangeSelection(t)||i.$isGridSelection(t)){var o=t.anchor.getNode(),s=t.focus.getNode(),a=n.is(o),c=n.is(s);if(i.$isTextNode(n)&&(a||c)){const[e,i]=t.getCharacterOffsets();a=t.isBackward(),c=o.is(s);const l=n.is(a?s:o);o=n.is(a?o:s),c?(r=e>i?i:e,n=n.splitText(r,e>i?e:i),r=0===r?n[0]:n[1]):l?(r=a?i:e,n=n.splitText(r),r=0===r?n[0]:n[1]):o&&(r=n.splitText(a?e:i)[0])}}const{element:d,after:u}=r.exportDOM(e);if(!d)return null;for(n=i.$isElementNode(r)?r.getChildren():[],o=0;o<n.length;o++)(s=n[o]).isSelected()&&(s=l(e,t,s))&&d.append(s);return u?u.call(r,d):d}function c(e,t){null!=(e=e.getData("text/plain"))&&t.insertRawText(e)}function d(e,t,n){if(!n){n=[];let t=null;for(let r=0;r<e.length;r++){const o=e[r];!i.$isElementNode(o)||o.isInline()?(null===t&&(t=i.$createParagraphNode(),n.push(t)),null!==t&&t.append(o)):(n.push(o),t=null)}e=n}if(i.$isRangeSelection(t))t.insertNodes(e);else if(i.$isGridSelection(t)){if(t=t.anchor.getNode(),!i.$isGridCellNode(t))throw Error("Expected Grid Cell in Grid Selection");t.append(...e)}}function u(e,t,n,r){if(1!==e.length||!i.$isGridNode(e[0]))throw Error("$mergeGridNodesStrategy: Expected Grid insertion.");var a=e[0];e=a.getChildren(),n=a.getFirstChildOrThrow().getChildrenSize();var l=a.getChildrenSize(),c=o.$findMatchingParent(t.anchor.getNode(),(e=>i.$isGridCellNode(e)));if(t=(a=c&&o.$findMatchingParent(c,(e=>i.$isGridRowNode(e))))&&o.$findMatchingParent(a,(e=>i.$isGridNode(e))),!i.$isGridCellNode(c)||!i.$isGridRowNode(a)||!i.$isGridNode(t))throw Error("$mergeGridNodesStrategy: Expected selection to be inside of a Grid.");var d=a.getIndexWithinParent(),u=Math.min(t.getChildrenSize()-1,d+l-1);let g,f;l=c.getIndexWithinParent(),c=Math.min(a.getChildrenSize()-1,l+n-1),n=Math.min(l,c),a=Math.min(d,u),l=Math.max(l,c),d=Math.max(d,u),u=t.getChildren(),c=0;for(let t=a;t<=d;t++){var h=u[t];i.$isGridRowNode(h)||s(77);var p=e[c];i.$isGridRowNode(p)||s(77),h=h.getChildren(),p=p.getChildren();let r=0;for(let e=n;e<=l;e++){const o=h[e];i.$isGridCellNode(o)||s(78);const c=p[r];i.$isGridCellNode(c)||s(78),t===a&&e===n?g=o.getKey():t===d&&e===l&&(f=o.getKey());const u=o.getChildren();c.getChildren().forEach((e=>{i.$isTextNode(e)&&i.$createParagraphNode().append(e),o.append(e)})),u.forEach((e=>e.remove())),r++}c++}g&&f&&((e=i.$createGridSelection()).set(t.getKey(),g,f),i.$setSelection(e),r.dispatchCommand(i.SELECTION_CHANGE_COMMAND))}function g(e,t,n=new Map,r){let o=[];if(a.has(e.nodeName))return o;let s=null;var l=function(e,t){const{nodeName:n}=e;t=t._htmlConversions.get(n.toLowerCase());let r=null;return void 0!==t&&t.forEach((t=>{null!==(t=t(e))&&(null===r||r.priority<t.priority)&&(r=t)})),null!==r?r.conversion:null}(e,t);const c=l?l(e):null;if(l=null,null!==c){if(l=c.after,s=c.node,null!==s){for(var[,d]of n)if(s=d(s,r),!s)break;s&&o.push(s)}null!=c.forChild&&n.set(e.nodeName,c.forChild)}for(e=e.childNodes,r=[],d=0;d<e.length;d++)r.push(...g(e[d],t,n,s));return null!=l&&(r=l(r)),null==s?o=o.concat(r):i.$isElementNode(s)&&s.append(...r),o}t.$getLexicalContent=function(e){var t=i.$getSelection();return null!==t?(e=e._config.namespace,t=r.$cloneContents(t),JSON.stringify({namespace:e,state:t})):null},t.$insertDataTransferForPlainText=c,t.$insertDataTransferForRichText=function(e,t,n){var r=e.getData("application/x-lexical-editor");const s=i.$isGridSelection(t)||null!==o.$findMatchingParent(t.anchor.getNode(),(e=>i.$isGridCellNode(e)))&&null!==o.$findMatchingParent(t.focus.getNode(),(e=>i.$isGridCellNode(e)));if(r){const e=n._config.namespace;try{const o=JSON.parse(r);if(o.namespace===e){const e=function(e){const{range:t,nodeMap:n}=e;e=new Map(n);const r=[];for(let n=0;n<t.length;n++){var o=e.get(t[n]);void 0!==o&&(o=i.$createNodeFromParse(o,e),r.push(o))}return r}(o.state);return s&&1===e.length&&i.$isGridNode(e[0])?void u(e,t,!1,n):void d(e,t,!0)}}catch(e){}}(r=e.getData("text/html"))?(e=function(e,t){let n=[];const r=(e=e.body?Array.from(e.body.childNodes):[]).length;for(let i=0;i<r;i++){var o=e[i];a.has(o.nodeName)||null!==(o=g(o,t))&&(n=n.concat(o))}return n}(e=(new DOMParser).parseFromString(r,"text/html"),n),s&&1===e.length&&i.$isGridNode(e[0])?u(e,t,!1,n):d(e,t,!1)):c(e,t)},t.getHtmlContent=function(e){const t=i.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");if(i.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length)return null;var n=r.$cloneContents(t);const o=document.createElement("div");for(let r=0;r<n.range.length;r++){var s=i.$getNodeByKey(n.range[r]);if(s){var a=l(e,t,s);if(a)if(s.isSelected())o.append(a);else for(s=a.firstChild;null!=s;)a=s.nextSibling,o.append(s),s=a}}return o.innerHTML}},3277:(e,t,n)=>{"use strict";const r=n(8233);e.exports=r},8233:(e,t,n)=>{var r=n(8325);n(5433),n(9980),n(4335),n(4064),n(4279),n(5251),n(1426),n(5266),n(366),n(767),n(874);var o=n(6969),i=n(2998);const s=e=>null!=e&&r.languages.hasOwnProperty(e)?e:void 0;class a extends i.TextNode{constructor(e,t,n){super(e,n),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new a(e.__text,e.__highlightType||void 0,e.__key)}createDOM(e){const t=super.createDOM(e);return e=l(e.theme,this.__highlightType),o.addClassNamesToElement(t,e),t}updateDOM(e,t,n){const r=super.updateDOM(e,t,n);return(e=l(n.theme,e.__highlightType))!==(n=l(n.theme,this.__highlightType))&&(e&&o.removeClassNamesFromElement(t,e),n&&o.addClassNamesToElement(t,n)),r}setFormat(){return this}}function l(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function c(e,t){return new a(e,t)}function d(e){return e instanceof a}class u extends i.ElementNode{static getType(){return"code"}static clone(e){return new u(e.__language,e.__key)}constructor(e,t){super(t),this.__language=s(e)}createDOM(e){const t=document.createElement("code");return o.addClassNamesToElement(t,e.theme.code),t.setAttribute("spellcheck","false"),(e=this.getLanguage())&&t.setAttribute("data-highlight-language",e),t}updateDOM(e,t){const n=this.__language;return e=e.__language,n?n!==e&&t.setAttribute("data-highlight-language",n):e&&t.removeAttribute("data-highlight-language"),!1}static importDOM(){return{div:()=>({conversion:_,priority:1}),pre:()=>({conversion:m,priority:0}),table:e=>E(e)?{conversion:y,priority:4}:null,td:e=>{const t=e.closest("table");return e.classList.contains("js-file-line")?{conversion:C,priority:4}:t&&E(t)?{conversion:N,priority:4}:null},tr:e=>(e=e.closest("table"))&&E(e)?{conversion:N,priority:4}:null}}insertNewAfter(e){var t=this.getChildren(),n=t.length;if(2<=n&&"\n"===t[n-1].getTextContent()&&"\n"===t[n-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===n)return t[n-1].remove(),t[n-2].remove(),e=i.$createParagraphNode(),this.insertAfter(e),e;var r=h(t=e.anchor.getNode());if(null!=r){for(n=0,r=r.getTextContent();n<r.length&&/[\t ]/.test(r[n]);)n+=1;if(0<n)return n=c(n=r.substring(0,n)),t.insertAfter(n),e.insertNodes([i.$createLineBreakNode()]),n.select(),n}return null}canInsertTab(){const e=i.$getSelection();return!(!i.$isRangeSelection(e)||!e.isCollapsed())}canIndent(){return!1}collapseAtStart(){const e=i.$createParagraphNode();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){this.getWritable().__language=s(e)}getLanguage(){return this.getLatest().__language}}function g(e){return new u(e)}function f(e){return e instanceof u}function h(e){let t=null;const n=e.getPreviousSiblings();for(n.push(e);0<n.length&&(d(e=n.pop())&&(t=e),!i.$isLineBreakNode(e)););return t}function p(e){let t=null;const n=e.getNextSiblings();for(n.unshift(e);0<n.length&&(d(e=n.shift())&&(t=e),!i.$isLineBreakNode(e)););return t}function m(){return{node:g()}}function _(e){return{after:t=>{const n=e.parentNode;return null!=n&&e!==n.lastChild&&t.push(i.$createLineBreakNode()),t},node:null!==e.style.fontFamily.match("monospace")?g():null}}function y(){return{node:g()}}function N(){return{node:null}}function C(e){return{after:t=>(e.parentNode&&e.parentNode.nextSibling&&t.push(i.$createLineBreakNode()),t),node:null}}function E(e){return e.classList.contains("js-file-line-container")}function T(e,t){const n=e.getParent();f(n)?v(n,t):d(e)&&e.replace(i.$createTextNode(e.__text))}let x=!1;function v(e,t){x||(x=!0,void 0===e.getLanguage()&&e.setLanguage("javascript"),t.update((()=>{!function(e,t){var n=i.$getSelection();if(i.$isRangeSelection(n)&&n.anchor){var r=(n=n.anchor).offset,o="element"===n.type&&i.$isLineBreakNode(e.getChildAtIndex(n.offset-1)),s=0;if(!o){const e=n.getNode();s=r+e.getPreviousSiblings().reduce(((e,t)=>e+(i.$isLineBreakNode(t)?0:t.getTextContentSize())),0)}t()&&(o?n.getNode().select(r,r):e.getChildren().some((e=>{if(i.$isTextNode(e)){const t=e.getTextContentSize();if(t>=s)return e.select(s,s),!0;s-=t}return!1})))}}(e,(()=>{var t=e.getTextContent();t=S(t=r.tokenize(t,r.languages[e.getLanguage()||""]||r.languages.javascript));var n=e.getChildren();let o=0;for(;o<n.length&&b(n[o],t[o]);)o++;var i=n.length;const s=t.length,a=Math.min(i,s)-o;let l=0;for(;l<a;)if(l++,!b(n[i-l],t[s-l])){l--;break}n=o,i-=l,t=t.slice(o,s-l);const{from:c,to:d,nodesForReplacement:u}={from:n,nodesForReplacement:t,to:i};return!(c===d&&!u.length||(e.splice(c,d-c,u),0))}))}),{onUpdate:()=>{x=!1},skipTransforms:!0}))}function S(e){const t=[];return e.forEach((e=>{if("string"==typeof e){e=e.split("\n");for(var n=0;n<e.length;n++){const r=e[n];r.length&&t.push(c(r)),n<e.length-1&&t.push(i.$createLineBreakNode())}}else({content:n}=e),"string"==typeof n?t.push(c(n,e.type)):1===n.length&&"string"==typeof n[0]?t.push(c(n[0],e.type)):t.push(...S(n))})),t}function b(e,t){return d(e)&&d(t)?e.__text===t.__text&&e.__highlightType===t.__highlightType:!(!i.$isLineBreakNode(e)||!i.$isLineBreakNode(t))}function O(e){var t=i.$getSelection();if(!i.$isRangeSelection(t)||t.isCollapsed())return!1;t=t.getNodes();for(var n=0;n<t.length;n++){var r=t[n];if(!d(r)&&!i.$isLineBreakNode(r))return!1}for(null!=(n=h(t[0]))&&w(n,e),n=1;n<t.length;n++)r=t[n],i.$isLineBreakNode(t[n-1])&&d(r)&&w(r,e);return!0}function w(e,t){const n=e.getTextContent();t===i.INDENT_CONTENT_COMMAND?0<n.length&&/\s/.test(n[0])?e.setTextContent("\t"+n):(t=c("\t"),e.insertBefore(t)):0===n.indexOf("\t")&&(1===n.length?e.remove():e.setTextContent(n.substring(1)))}function k(e,t){const n=i.$getSelection();if(!i.$isRangeSelection(n))return!1;const{anchor:r,focus:o}=n,s=r.offset,a=o.offset,l=r.getNode(),c=o.getNode();var u=e===i.KEY_ARROW_UP_COMMAND;if(!d(l)||!d(c))return!1;if(!t.altKey){if(n.isCollapsed())if(e=l.getParentOrThrow(),u&&0===s&&null===l.getPreviousSibling()){if(null===e.getPreviousSibling())return e.selectPrevious(),t.preventDefault(),!0}else if(!u&&s===l.getTextContentSize()&&null===l.getNextSibling()&&null===e.getNextSibling())return e.selectNext(),t.preventDefault(),!0;return!1}var g=h(l);const f=p(c);if(null==g||null==f)return!1;const m=g.getNodesBetween(f);for(let e=0;e<m.length;e++){const t=m[e];if(!d(t)&&!i.$isLineBreakNode(t))return!1}if(t.preventDefault(),t.stopPropagation(),t=u?g.getPreviousSibling():f.getNextSibling(),!i.$isLineBreakNode(t))return!0;if(null==(g=u?t.getPreviousSibling():t.getNextSibling()))return!0;let _=null!=(u=u?h(g):p(g))?u:g;return t.remove(),m.forEach((e=>e.remove())),e===i.KEY_ARROW_UP_COMMAND?(m.forEach((e=>_.insertBefore(e))),_.insertBefore(t)):(_.insertAfter(t),_=t,m.forEach((e=>{_.insertAfter(e),_=e}))),n.setTextNodeRange(l,s,c,a),!0}t.$createCodeHighlightNode=c,t.$createCodeNode=g,t.$isCodeHighlightNode=d,t.$isCodeNode=f,t.CodeHighlightNode=a,t.CodeNode=u,t.getCodeLanguages=()=>Object.keys(r.languages).filter((e=>"function"!=typeof r.languages[e])).sort(),t.getDefaultCodeLanguage=()=>"javascript",t.getFirstCodeHighlightNodeOfLine=h,t.getLastCodeHighlightNodeOfLine=p,t.registerCodeHighlighting=function(e){if(!e.hasNodes([u,a]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return o.mergeRegister(e.registerMutationListener(u,(t=>{e.update((()=>{for(const[o,s]of t)if("destroyed"!==s){var n=i.$getNodeByKey(o);if(null!==n)e:{var r=n;if(null===(n=e.getElementByKey(r.getKey())))break e;const t=(r=r.getChildren()).length;if(t===n.__cachedChildrenLength)break e;n.__cachedChildrenLength=t;let o="1",s=1;for(let e=0;e<t;e++)i.$isLineBreakNode(r[e])&&(o+="\n"+ ++s);n.setAttribute("data-gutter",o)}}}))})),e.registerNodeTransform(u,(t=>v(t,e))),e.registerNodeTransform(i.TextNode,(t=>T(t,e))),e.registerNodeTransform(a,(t=>T(t,e))),e.registerCommand(i.INDENT_CONTENT_COMMAND,(()=>O(i.INDENT_CONTENT_COMMAND)),i.COMMAND_PRIORITY_LOW),e.registerCommand(i.OUTDENT_CONTENT_COMMAND,(()=>O(i.OUTDENT_CONTENT_COMMAND)),i.COMMAND_PRIORITY_LOW),e.registerCommand(i.KEY_ARROW_UP_COMMAND,(e=>k(i.KEY_ARROW_UP_COMMAND,e)),i.COMMAND_PRIORITY_LOW),e.registerCommand(i.KEY_ARROW_DOWN_COMMAND,(e=>k(i.KEY_ARROW_DOWN_COMMAND,e)),i.COMMAND_PRIORITY_LOW))}},573:(e,t,n)=>{"use strict";const r=n(7370);e.exports=r},7370:(e,t,n)=>{var r=n(2998);t.registerDragonSupport=function(e){const t=t=>{var n=e.getRootElement();if(document.activeElement===n&&"string"==typeof(n=t.data)){try{var o=JSON.parse(n)}catch(e){return}if(o&&"nuanria_messaging"===o.protocol&&"request"===o.type&&(o=o.payload)&&"makeChanges"===o.functionId&&(o=o.args)){const[n,i,s,a,l]=o;e.update((()=>{const e=r.$getSelection();if(r.$isRangeSelection(e)){var o=e.anchor;let c=o.getNode(),d=0,u=0;r.$isTextNode(c)&&0<=n&&0<=i&&(d=n,u=n+i,e.setTextNodeRange(c,d,c,u)),d===u&&""===s||(e.insertRawText(s),c=o.getNode()),r.$isTextNode(c)&&(d=a,u=a+l,d=d>(o=c.getTextContentSize())?o:d,u=u>o?o:u,e.setTextNodeRange(c,d,c,u)),t.stopImmediatePropagation()}}))}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}},8854:(e,t,n)=>{"use strict";const r=n(4379);e.exports=r},4379:(e,t,n)=>{var r=n(6969),o=n(2998);t.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},t.registerHistory=function(e,t,n){const i=function(e,t){let n=Date.now(),r=0;return(i,s,a,l,c,d)=>{const u=Date.now();if(d.has("historic"))return r=0,n=u,2;const g=function(e,t,n,r,i){if(null===e||0===n.size&&0===r.size)return 0;var s=t._selection,a=e._selection;if(i)return 1;if(!(o.$isRangeSelection(s)&&o.$isRangeSelection(a)&&a.isCollapsed()&&s.isCollapsed()))return 0;i=t._nodeMap;const l=[];for(const e of n)void 0!==(n=i.get(e))&&l.push(n);for(const[e,t]of r)t&&(void 0===(r=i.get(e))||o.$isRootNode(r)||l.push(r));return 0===l.length?0:1<l.length?(t=(r=t._nodeMap).get(s.anchor.key),a=r.get(a.anchor.key),t&&a&&!e._nodeMap.has(t.__key)&&o.$isTextNode(t)&&1===t.__text.length&&1===s.anchor.offset?2:0):(t=l[0],e=e._nodeMap.get(t.__key),o.$isTextNode(e)&&o.$isTextNode(t)&&e.__mode===t.__mode?(e=e.__text)===(t=t.__text)?0:(s=s.anchor,a=a.anchor,s.key!==a.key||"text"!==s.type?0:(s=s.offset,a=a.offset,1==(e=t.length-e.length)&&a===s-1?2:-1===e&&a===s+1?3:-1===e&&a===s?4:0)):0)}(i,s,l,c,e.isComposing()),f=(()=>{const o=d.has("history-push");if(!o&&d.has("history-merge"))return 0;if(null===i)return 1;var f=s._selection;const h=i._selection;return 0<l.size||0<c.size?(f=null===a||a.editor===e,!1===o&&0!==g&&g===r&&u<n+t&&f?0:1):null===h&&null!==f?0:2})();return n=u,r=g,f}}(e,n);n=({editorState:n,prevEditorState:r,dirtyLeaves:s,dirtyElements:a,tags:l})=>{const c=t.current,d=t.redoStack,u=t.undoStack,g=null===c?null:c.editorState;if(null===c||n!==g){if(1===(s=i(r,n,c,s,a,l)))0!==d.length&&(t.redoStack=[]),null!==c&&(u.push({...c,undoSelection:r.read(o.$getSelection)}),e.dispatchCommand(o.CAN_UNDO_COMMAND,!0));else if(2===s)return;t.current={editor:e,editorState:n}}};const s=r.mergeRegister(e.registerCommand(o.UNDO_COMMAND,(()=>{const n=t.redoStack,r=t.undoStack;if(0!==r.length){const i=t.current,s=r.pop();null!==i&&(n.push(i),e.dispatchCommand(o.CAN_REDO_COMMAND,!0)),0===r.length&&e.dispatchCommand(o.CAN_UNDO_COMMAND,!1),t.current=s,s.editor.setEditorState(s.editorState.clone(s.undoSelection),{tag:"historic"})}return!0}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.REDO_COMMAND,(()=>{const n=t.redoStack;var r=t.undoStack;if(0!==n.length){const i=t.current;null!==i&&(r.push(i),e.dispatchCommand(o.CAN_UNDO_COMMAND,!0)),r=n.pop(),0===n.length&&e.dispatchCommand(o.CAN_REDO_COMMAND,!1),t.current=r,r.editor.setEditorState(r.editorState,{tag:"historic"})}return!0}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.CLEAR_EDITOR_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,!1)),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.CLEAR_HISTORY_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,!0)),o.COMMAND_PRIORITY_EDITOR),e.registerUpdateListener(n)),a=e.registerUpdateListener(n);return()=>{s(),a()}}},3435:(e,t,n)=>{"use strict";const r=n(3906);e.exports=r},3906:(e,t,n)=>{var r=n(6969),o=n(2998);class i extends o.ElementNode{static getType(){return"link"}static clone(e){return new i(e.__url,e.__key)}constructor(e,t){super(t),this.__url=e}createDOM(e){const t=document.createElement("a");return t.href=this.__url,r.addClassNamesToElement(t,e.theme.link),t}updateDOM(e,t){const n=this.__url;return n!==e.__url&&(t.href=n),!1}static importDOM(){return{a:()=>({conversion:s,priority:1})}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}insertNewAfter(e){if(e=this.getParentOrThrow().insertNewAfter(e),o.$isElementNode(e)){const t=a(this.__url);return e.append(t),t}return null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}}function s(e){let t=null;return e instanceof HTMLAnchorElement&&(t=a(e.href)),{node:t}}function a(e){return new i(e)}class l extends i{static getType(){return"autolink"}static clone(e){return new l(e.__url,e.__key)}insertNewAfter(e){if(e=this.getParentOrThrow().insertNewAfter(e),o.$isElementNode(e)){const t=c(this.__url);return e.append(t),t}return null}}function c(e){return new l(e)}const d=o.createCommand();t.$createAutoLinkNode=c,t.$createLinkNode=a,t.$isAutoLinkNode=function(e){return e instanceof l},t.$isLinkNode=function(e){return e instanceof i},t.AutoLinkNode=l,t.LinkNode=i,t.TOGGLE_LINK_COMMAND=d},4783:(e,t,n)=>{"use strict";const r=n(9206);e.exports=r},9206:(e,t,n)=>{var r=n(2998),o=n(6969);function i(e){throw Error(`Minified Lexical error #${e}; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function s(e){let t=1;for(e=e.getParent();null!=e;){if(C(e)){if(S(e=e.getParent())){t++,e=e.getParent();continue}i(2)}break}return t}function a(e){S(e=e.getParent())||i(2);let t=e;for(;null!==t;)t=t.getParent(),S(t)&&(e=t);return e}function l(e){let t=[];e=e.getChildren().filter(C);for(let n=0;n<e.length;n++){const r=e[n],o=r.getFirstChild();S(o)?t=t.concat(l(o)):t.push(r)}return t}function c(e){return C(e)&&S(e.getFirstChild())}function d(e,t){return C(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function u(e,t){if(S(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),o=N();return S(n)&&t===n.getTag()?(o.append(e),n.append(o),S(r)&&t===r.getTag()&&(n.append(...r.getChildren()),r.remove()),n):S(r)&&t===r.getTag()?(o.append(e),r.getFirstChildOrThrow().insertBefore(o),r):((t=v(t)).append(o),e.replace(t),o.append(e),g(t),t)}function g(e,t){(t||e.getChildren()).forEach((e=>{const t=e.getValue();var n=e.getParent(),r=1;if(null!=n){if(!S(n))throw Error("$getListItemValue: list node is not parent of list item node");r=n.getStart()}n=e.getPreviousSiblings();for(let e=0;e<n.length;e++){const t=n[e];C(t)&&!S(t.getFirstChild())&&r++}t!==r&&e.setValue(r)}))}function f(e){const t=new Set;e.forEach((e=>{if(!c(e)&&!t.has(e.getKey())){var n=e.getParent(),r=e.getNextSibling(),o=e.getPreviousSibling();if(c(r)&&c(o))S(o=o.getFirstChild())&&(o.append(e),S(e=r.getFirstChild())&&(e=e.getChildren(),o.append(...e),r.remove(),t.add(r.getKey())),g(o));else if(c(r))S(r=r.getFirstChild())&&(null!==(o=r.getFirstChild())&&o.insertBefore(e),g(r));else if(c(o))S(r=o.getFirstChild())&&(r.append(e),g(r));else if(S(n)){const t=N(),i=v(n.getTag());t.append(i),i.append(e),o?o.insertAfter(t):r?r.insertBefore(t):n.append(t)}S(n)&&g(n)}}))}function h(e){e.forEach((e=>{if(!c(e)){var t=e.getParent(),n=t?t.getParent():void 0,r=n?n.getParent():void 0;if(S(r)&&C(n)&&S(t)){var o=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(o))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(i))n.insertAfter(e),t.isEmpty()&&n.remove();else{var s=t.getTag();o=N();const r=v(s);o.append(r),e.getPreviousSiblings().forEach((e=>r.append(e))),i=N(),s=v(s),i.append(s),s.append(...e.getNextSiblings()),n.insertBefore(o),n.insertAfter(i),n.replace(e)}g(t),g(r)}}}))}function p(e){var t=r.$getSelection();if(r.$isRangeSelection(t)){var n=t.getNodes(),o=[];if(0===n.length&&n.push(t.anchor.getNode()),1===n.length){e:{for(n=n[0];null!==n;){if(C(n))break e;n=n.getParent()}n=null}null!==n&&(o=[n])}else{for(o=new Set,t=0;t<n.length;t++){const e=n[t];C(e)&&o.add(e)}o=Array.from(o)}0<o.length&&("indent"===e?f(o):h(o))}}class m extends r.ElementNode{static getType(){return"listitem"}static clone(e){return new m(e.__value,e.__key)}constructor(e,t){super(t),this.__value=void 0===e?1:e}createDOM(e){const t=document.createElement("li"),n=this.getParent();return S(n)&&g(n),t.value=this.__value,_(t,e.theme,this),t}updateDOM(e,t,n){return S(e=this.getParent())&&g(e),t.value=this.__value,_(t,n.theme,this),!1}static importDOM(){return{li:()=>({conversion:y,priority:0})}}append(...e){for(let t=0;t<e.length;t++){const n=e[t];if(r.$isElementNode(n)&&this.canMergeWith(n)){const e=n.getChildren();this.append(...e),n.remove()}else super.append(n)}return this}replace(e){if(C(e))return super.replace(e);const t=this.getParentOrThrow();if(S(t)){var n=t.__children;const o=n.length;var r=n.indexOf(this.__key);if(0===r)t.insertBefore(e);else if(r===o-1)t.insertAfter(e);else{n=v(t.getTag());const i=t.getChildren();for(r+=1;r<o;r++)n.append(i[r]);t.insertAfter(e),e.insertAfter(n)}this.remove(),1===o&&t.remove()}return e}insertAfter(e){var t=this.getParentOrThrow();S(t)||i(1);var n=this.getNextSiblings();if(C(e))return t=super.insertAfter(e),S(e=e.getParentOrThrow())&&g(e),t;if(S(e)&&e.getTag()===t.getTag()){for(t=e,n=(e=e.getChildren()).length-1;0<=n;n--)t=e[n],this.insertAfter(t);return t}if(t.insertAfter(e),0!==n.length){const r=v(t.getTag());n.forEach((e=>r.append(e))),e.insertAfter(r)}return e}remove(e){const t=this.getNextSibling();super.remove(e),null!==t&&S(e=t.getParent())&&g(e)}insertNewAfter(){const e=N();return this.insertAfter(e),e}collapseAtStart(e){const t=r.$createParagraphNode();this.getChildren().forEach((e=>t.append(e)));var n=this.getParentOrThrow(),o=n.getParentOrThrow();const i=C(o);return 1===n.getChildrenSize()?i?(n.remove(),o.select()):(n.replace(t),n=e.anchor,e=e.focus,o=t.getKey(),"element"===n.type&&n.getNode().is(this)&&n.set(o,n.offset,"element"),"element"===e.type&&e.getNode().is(this)&&e.set(o,e.offset,"element")):(n.insertBefore(t),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getIndent(){let e=this.getParentOrThrow().getParentOrThrow(),t=0;for(;C(e);)e=e.getParentOrThrow().getParentOrThrow(),t++;return t}setIndent(e){let t=this.getIndent();for(;t!==e;)t<e?(f([this]),t++):(h([this]),t--);return this}canIndent(){return!1}insertBefore(e){if(C(e)){const e=this.getParentOrThrow();S(e)&&g(e)}return super.insertBefore(e)}canInsertAfter(e){return C(e)}canReplaceWith(e){return C(e)}canMergeWith(e){return r.$isParagraphNode(e)||C(e)}}function _(e,t,n){const r=[],i=[],s=(t=t.list)?t.listitem:void 0;if(t&&t.nested)var a=t.nested.listitem;void 0!==s&&(t=s.split(" "),r.push(...t)),void 0!==a&&(a=a.split(" "),n.getChildren().some((e=>S(e)))?r.push(...a):i.push(...a)),0<r.length&&o.addClassNamesToElement(e,...r),0<i.length&&o.removeClassNamesFromElement(e,...i)}function y(){return{node:N()}}function N(){return new m}function C(e){return e instanceof m}class E extends r.ElementNode{static getType(){return"list"}static clone(e){return new E(e.__tag,e.__start,e.__key)}constructor(e,t,n){super(n),this.__tag=e,this.__start=t}getTag(){return this.__tag}getStart(){return this.__start}createDOM(e){const t=document.createElement(this.__tag);return 1!==this.__start&&t.setAttribute("start",String(this.__start)),T(t,e.theme,this),t}updateDOM(e,t,n){return e.__tag!==this.__tag||(T(t,n.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:x,priority:0}),ul:()=>({conversion:x,priority:0})}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let n=0;n<e.length;n++){var t=e[n];if(C(t))super.append(t);else{const e=N();S(t)||(t=r.$createTextNode(t.getTextContent())),e.append(t),super.append(e)}}return this}}function T(e,t,n){const r=[],i=[];var a=t.list;if(void 0!==a){const e=a[n.__tag+"Depth"]||[],o=(t=s(n)-1)%e.length;var l=e[o];const c=a[n.__tag];let d;if(void 0!==(a=a.nested)&&a.list&&(d=a.list),void 0!==c&&r.push(c),void 0!==l)for(l=l.split(" "),r.push(...l),l=0;l<e.length;l++)l!==o&&i.push(n.__tag+l);void 0!==d&&(n=d.split(" "),1<t?r.push(...n):i.push(...n))}0<r.length&&o.addClassNamesToElement(e,...r),0<i.length&&o.removeClassNamesFromElement(e,...i)}function x(e){let t=null;return"ol"!==(e=e.nodeName.toLowerCase())&&"ul"!==e||(t=v(e)),{node:t}}function v(e,t=1){return new E(e,t)}function S(e){return e instanceof E}const b=r.createCommand(),O=r.createCommand(),w=r.createCommand();t.$createListItemNode=N,t.$createListNode=v,t.$getListDepth=s,t.$handleListInsertParagraph=function(){var e=r.$getSelection();if(!r.$isRangeSelection(e)||!e.isCollapsed())return!1;if(!C(e=e.anchor.getNode())||""!==e.getTextContent())return!1;var t=a(e),n=e.getParent();S(n)||i(2);const o=n.getParent();let s;if(r.$isRootNode(o))s=r.$createParagraphNode(),t.insertAfter(s);else{if(!C(o))return!1;s=N(),o.insertAfter(s)}if(s.select(),0<(t=e.getNextSiblings()).length){const e=v(n.getTag());r.$isParagraphNode(s)?s.insertAfter(e):((n=N()).append(e),s.insertAfter(n)),t.forEach((t=>{t.remove(),e.append(t)}))}return function(e){for(;null==e.getNextSibling()&&null==e.getPreviousSibling();){const t=e.getParent();if(null==t||!C(e)&&!S(e))break;e=t}e.remove()}(e),!0},t.$isListItemNode=C,t.$isListNode=S,t.INSERT_ORDERED_LIST_COMMAND=O,t.INSERT_UNORDERED_LIST_COMMAND=b,t.ListItemNode=m,t.ListNode=E,t.REMOVE_LIST_COMMAND=w,t.indentList=function(){p("indent")},t.insertList=function(e,t){e.update((()=>{var e=r.$getSelection();if(r.$isRangeSelection(e)){var n=e.getNodes(),o=(e=e.anchor.getNode()).getParent();if(d(e,n))n=v(t),r.$isRootNode(o)?(e.replace(n),e=N(),n.append(e)):C(e)&&(e=e.getParentOrThrow(),n.append(...e.getChildren()),e.replace(n));else for(e=new Set,o=0;o<n.length;o++){var i=n[o];if(r.$isElementNode(i)&&i.isEmpty()&&!e.has(i.getKey()))u(i,t);else if(r.$isLeafNode(i))for(i=i.getParent();null!=i;){const n=i.getKey();if(S(i)){if(!e.has(n)){var s=v(t);s.append(...i.getChildren()),i.replace(s),g(s),e.add(n)}break}if(s=i.getParent(),r.$isRootNode(s)&&!e.has(n)){e.add(n),u(i,t);break}i=s}}}}))},t.outdentList=function(){p("outdent")},t.removeList=function(e){e.update((()=>{var e=r.$getSelection();if(r.$isRangeSelection(e)){const n=new Set,i=e.getNodes();if(d(e=e.anchor.getNode(),i))n.add(a(e));else for(e=0;e<i.length;e++){var t=i[e];r.$isLeafNode(t)&&null!=(t=o.$getNearestNodeOfType(t,m))&&n.add(a(t))}n.forEach((e=>{let t=e;l(e).forEach((e=>{if(null!=e){const n=r.$createParagraphNode();n.append(...e.getChildren()),t.insertAfter(n),t=n,e.remove()}})),e.remove()}))}}))}},6571:(e,t,n)=>{"use strict";const r=n(6992);e.exports=r},6992:(e,t,n)=>{var r=n(3277),o=n(4783),i=n(2998),s=n(3435),a=n(2903),l=n(2977);function c(e){throw Error(`Minified Lexical error #${e}; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const d=[{triggerKind:"space_trigger",triggerString:" "}],u={markdownFormatKind:null,regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:!1},g={...u,requiresParagraphStart:!0},f={...g,export:R(1),markdownFormatKind:"paragraphH1",regEx:/^(?:# )/,regExForAutoFormatting:/^(?:# )/},h={...g,export:R(2),markdownFormatKind:"paragraphH2",regEx:/^(?:## )/,regExForAutoFormatting:/^(?:## )/},p={...g,export:R(3),markdownFormatKind:"paragraphH3",regEx:/^(?:### )/,regExForAutoFormatting:/^(?:### )/},m={...g,export:R(4),markdownFormatKind:"paragraphH4",regEx:/^(?:#### )/,regExForAutoFormatting:/^(?:#### )/},_={...g,export:R(5),markdownFormatKind:"paragraphH5",regEx:/^(?:##### )/,regExForAutoFormatting:/^(?:##### )/},y={...g,export:function(e){if(!r.$isCodeNode(e))return null;const t=e.getTextContent();return"```"+(e.getLanguage()||"")+(t?"\n"+t:"")+"\n```"},markdownFormatKind:"paragraphCodeBlock",regEx:/^(```)$/,regExForAutoFormatting:/^(```)([a-z]*)( )/},N=[{...u,markdownFormatKind:"strikethrough_italic_bold",regEx:/(~~_\*\*)(\s*\b)([^~~_\*\*][^\*\*_~~]*)(\b\s*)(\*\*_~~)()/,regExForAutoFormatting:/(~~_\*\*)(\s*\b)([^~~_\*\*][^\*\*_~~]*)(\b\s*)(\*\*_~~)(\s)$/},{...u,markdownFormatKind:"italic_bold",regEx:/(_\*\*)(\s*\b)([^_\*\*][^\*\*_]*)(\b\s*)(\*\*_)/,regExForAutoFormatting:/(_\*\*)(\s*\b)([^_\*\*][^\*\*_]*)(\b\s*)(\*\*_)(\s)$/},{...u,markdownFormatKind:"strikethrough_italic",regEx:/(~~_)(\s*)([^~~_][^_~~]*)(\s*)(_~~)/,regExForAutoFormatting:/(~~_)(\s*)([^~~_][^_~~]*)(\s*)(_~~)(\s)$/},{...u,markdownFormatKind:"strikethrough_bold",regEx:/(~~\*\*)(\s*\b)([^~~\*\*][^\*\*~~]*)(\b\s*)(\*\*~~)/,regExForAutoFormatting:/(~~\*\*)(\s*\b)([^~~\*\*][^\*\*~~]*)(\b\s*)(\*\*~~)(\s)$/},{...u,exportFormat:"code",exportTag:"`",markdownFormatKind:"code",regEx:/(`)(\s*)([^`]*)(\s*)(`)()/,regExForAutoFormatting:/(`)(\s*\b)([^`]*)(\b\s*)(`)(\s)$/},{...u,exportFormat:"bold",exportTag:"**",markdownFormatKind:"bold",regEx:/(\*\*)(\s*)([^\*\*]*)(\s*)(\*\*)()/,regExForAutoFormatting:/(\*\*)(\s*\b)([^\*\*]*)(\b\s*)(\*\*)(\s)$/},{...u,exportFormat:"italic",exportTag:"*",markdownFormatKind:"italic",regEx:/(\*)(\s*)([^\*]*)(\s*)(\*)()/,regExForAutoFormatting:/(\*)(\s*\b)([^\*]*)(\b\s*)(\*)(\s)$/},{...u,exportFormat:"bold",exportTag:"_",markdownFormatKind:"bold",regEx:/(__)(\s*)([^__]*)(\s*)(__)()/,regExForAutoFormatting:/(__)(\s*)([^__]*)(\s*)(__)(\s)$/},{...u,exportFormat:"italic",exportTag:"_",markdownFormatKind:"italic",regEx:/(_)()([^_]*)()(_)()/,regExForAutoFormatting:/(_)()([^_]*)()(_)(\s)$/},{...u,exportFormat:"underline",exportTag:"<u>",exportTagClose:"</u>",markdownFormatKind:"underline",regEx:/(<u>)(\s*)([^<]*)(\s*)(<\/u>)()/,regExForAutoFormatting:/(<u>)(\s*\b)([^<]*)(\b\s*)(<\/u>)(\s)$/},{...u,exportFormat:"strikethrough",exportTag:"~~",markdownFormatKind:"strikethrough",regEx:/(~~)(\s*)([^~~]*)(\s*)(~~)()/,regExForAutoFormatting:/(~~)(\s*\b)([^~~]*)(\b\s*)(~~)(\s)$/},{...u,markdownFormatKind:"link",regEx:/(\[)([^\]]*)(\]\()([^)]*)(\)*)()/,regExForAutoFormatting:/(\[)([^\]]*)(\]\()([^)]*)(\)*)(\s)$/}],C=[f,h,p,m,_,{...g,export:function(e,t){return a.$isQuoteNode(e)?"> "+t(e):null},markdownFormatKind:"paragraphBlockQuote",regEx:/^(?:> )/,regExForAutoFormatting:/^(?:> )/},{...g,export:$,markdownFormatKind:"paragraphUnorderedList",regEx:/^(\s{0,10})(?:- )/,regExForAutoFormatting:/^(\s{0,10})(?:- )/},{...g,export:$,markdownFormatKind:"paragraphUnorderedList",regEx:/^(\s{0,10})(?:\* )/,regExForAutoFormatting:/^(\s{0,10})(?:\* )/},{...g,export:$,markdownFormatKind:"paragraphOrderedList",regEx:/^(\s{0,10})(\d+)\.\s/,regExForAutoFormatting:/^(\s{0,10})(\d+)\.\s/},y,{...g,markdownFormatKind:"horizontalRule",regEx:/^(?:\*\*\*)$/,regExForAutoFormatting:/^(?:\*\*\* )/},{...g,markdownFormatKind:"horizontalRule",regEx:/^(?:---)$/,regExForAutoFormatting:/^(?:--- )/}],E=[...C,...N];function T(e,t,n,r){return{currentElementNode:null,editor:e,isAutoFormatting:t,isWithinCodeBlock:!1,joinedText:null,markdownCriteria:{markdownFormatKind:"noTransformation",regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:null},patternMatchResults:{regExCaptureGroups:[]},textNodeWithOffset:n,triggerState:r}}function x(e){return e.joinedText=null,e.markdownCriteria={markdownFormatKind:"noTransformation",regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:null},e.patternMatchResults={regExCaptureGroups:[]},e.triggerState=null,e.textNodeWithOffset=null,e}function v(e,t,n){return!0===e.requiresParagraphStart?e=null===(n=b(t)).node.getPreviousSibling()?S(n=n.node.getTextContent(),!0,!1,t.isAutoFormatting?e.regExForAutoFormatting:e.regEx):null:(null==t.joinedText&&(i.$isElementNode(n)?null==t.joinedText&&(t.joinedText=l.$joinTextNodesInElementNode(n,"",b(t))):c(52,n.__key)),S(t.joinedText,!1,!0===e.regExForAutoFormatting,t.isAutoFormatting?e.regExForAutoFormatting:e.regEx))}function S(e,t,n,r){const o={regExCaptureGroups:[]};if(null!==(r=e.match(r))&&0<r.length&&(!1===t||0===r.index)&&(!1===n||r.index+r[0].length===e.length)){for(e=r.length,t=r.index,n=0;n<e;n++){const e=r[n];o.regExCaptureGroups.push({offsetInParent:t,text:e}),0<n&&(t+=e.length)}return o}return null}function b(e){return null==(e=e.textNodeWithOffset)&&c(82),e}function O(e,t,n,r,i){const s=o.$createListItemNode();n=(n=n.regExCaptureGroups[0].text.match(/^\s*/))?Math.floor(n[0].length/4):0,s.append(...t),t=e.getPreviousSibling(),o.$isListNode(t)&&t.getTag()===r?(t.append(s),e.remove()):((r=o.$createListNode(r,i)).append(s),e.replace(r)),n&&s.setIndent(n)}function w(e,t,n){if(!0===e.markdownCriteria.requiresParagraphStart){if(null!=e.textNodeWithOffset){var o=b(e);0<e.patternMatchResults.regExCaptureGroups.length&&""===(o=o.node.spliceText(0,e.patternMatchResults.regExCaptureGroups[0].text.length,"",!0)).getTextContent()&&(o.selectPrevious(),o.remove())}const{newNode:s,shouldDelete:l}=function(e,t,n){var o=null,s=t.getChildren();const l=e.markdownCriteria,c=e.patternMatchResults;if(null!=l.markdownFormatKind)switch(l.markdownFormatKind){case"paragraphH1":(o=a.$createHeadingNode("h1")).append(...s);break;case"paragraphH2":(o=a.$createHeadingNode("h2")).append(...s);break;case"paragraphH3":(o=a.$createHeadingNode("h3")).append(...s);break;case"paragraphH4":(o=a.$createHeadingNode("h4")).append(...s);break;case"paragraphH5":(o=a.$createHeadingNode("h5")).append(...s);break;case"paragraphBlockQuote":(o=a.$createQuoteNode()).append(...s);break;case"paragraphUnorderedList":return O(t,s,c,"ul"),{newNode:null,shouldDelete:!1};case"paragraphOrderedList":return o=1<c.regExCaptureGroups.length?c.regExCaptureGroups[c.regExCaptureGroups.length-1].text:"1",O(t,s,c,"ol",e=e.isAutoFormatting?parseInt(o,10):void 0),{newNode:null,shouldDelete:!1};case"paragraphCodeBlock":if(!1===e.isAutoFormatting){if(0<e.patternMatchResults.regExCaptureGroups.length)return e.isWithinCodeBlock=!0!==e.isWithinCodeBlock,e.currentElementNode=null,{newNode:null,shouldDelete:!0};if(e.isWithinCodeBlock){if(null==e.currentElementNode)return(t=r.$createCodeNode()).append(...s),e.currentElementNode=t,{newNode:t,shouldDelete:!1};null!=e.currentElementNode&&(t=e.currentElementNode,e=i.$createLineBreakNode(),t.append(e),s.length&&t.append(e),t.append(...s))}return{newNode:null,shouldDelete:!0}}null!=e.triggerState&&e.triggerState.isCodeBlock?o=i.$createParagraphNode():(o=r.$createCodeNode(),null!=(t=3<=c.regExCaptureGroups.length?c.regExCaptureGroups[2].text:null)&&0<t.length&&o.setLanguage(t)),o.append(...s);break;case"horizontalRule":null!=n&&(s=n(),t.insertBefore(s))}return{newNode:o,shouldDelete:!1}}(e,t,n);l?t.remove():null!==s&&t.replace(s)}else if(null!=(n=e.markdownCriteria).markdownFormatKind)if(o=function(e){switch(e){case"italic":case"bold":case"underline":case"strikethrough":case"code":return[e];case"strikethrough_italic_bold":return["strikethrough","italic","bold"];case"italic_bold":return["italic","bold"];case"strikethrough_italic":return["strikethrough","italic"];case"strikethrough_bold":return["strikethrough","bold"]}return null}(n.markdownFormatKind),null!=o){if(n=o,7===e.patternMatchResults.regExCaptureGroups.length){if(A(5,5,e,t),A(1,1,e,t),3<(o=e.patternMatchResults.regExCaptureGroups).length||c(65),0!==o[3].text.length&&null!=(o=k(3,3,!1,!0,e,t))&&(i.$setSelection(o),o=i.$getSelection(),i.$isRangeSelection(o)))for(var l=0;l<n.length;l++)o.formatText(n[l]);M(e,t)}}else if("link"===n.markdownFormatKind&&7===(n=e.patternMatchResults.regExCaptureGroups).length&&(l=n[2].text,n=n[4].text,0!==l.length&&0!==n.length)){if(A(1,5,e,t),!(1>=(o=e.patternMatchResults.regExCaptureGroups).length)){l={offsetInParent:o[1].offsetInParent,text:l};var d=k(1,1,!1,!1,e,t);if(null!=d&&(i.$setSelection(d),null!=(d=i.$getSelection())&&i.$isRangeSelection(d)&&d.isCollapsed())){d.insertText(l.text),o.splice(1,0,l),l=l.text.length,d=o.length;for(let e=2;e<d;e++)o[e].offsetInParent+=l}}null!=(o=k(1,1,!1,!0,e,t))&&(i.$setSelection(o),e.editor.dispatchCommand(s.TOGGLE_LINK_COMMAND,n),M(e,t))}}function k(e,t,n,r,o,s){var a=o.patternMatchResults,c=(o=a.regExCaptureGroups).length;return e>=c||t>=c?null:(2>(c=a.regExCaptureGroups.length)?a=0:(--c,a=a.regExCaptureGroups[c].offsetInParent+a.regExCaptureGroups[c].text.length),e=o[e],t=o[t],r=r?t.offsetInParent+t.text.length:t.offsetInParent,n=l.$findNodeWithOffsetFromJoinedText(n?e.offsetInParent+e.text.length:e.offsetInParent,a,1,s),r=l.$findNodeWithOffsetFromJoinedText(r,a,1,s),null==n&&null==r&&0===s.getChildren().length?((n=i.$createRangeSelection()).anchor.set(s.getKey(),0,"element"),n.focus.set(s.getKey(),0,"element"),n):null==n||null==r?null:((s=i.$createRangeSelection()).anchor.set(n.node.getKey(),n.offset,"text"),s.focus.set(r.node.getKey(),r.offset,"text"),s))}function A(e,t,n,r){const o=n.patternMatchResults.regExCaptureGroups;if(null!=(n=k(e,t,!1,!0,n,r))&&(i.$setSelection(n),null!=(n=i.$getSelection())&&i.$isRangeSelection(n)&&!1===n.isCollapsed())){n.removeText(),n=0,r=o.length;for(let i=e;i<r;i++){const r=o[i];i>e&&(r.offsetInParent-=n),i<=t&&(n+=r.text.length,r.text="")}}}function M(e,t){var n=e.patternMatchResults.regExCaptureGroups.length;2>n||null!=(e=k(--n,n,!0,!0,e,t))&&i.$setSelection(e)}function R(e){return(t,n)=>a.$isHeadingNode(t)&&t.getTag()==="h"+e?"#".repeat(e)+" "+n(t):null}function $(e,t){return o.$isListNode(e)?D(e,t,0):null}function D(e,t,n){const r=[];var i=e.getChildren();let s=0;for(const a of i)if(o.$isListItemNode(a)){if(1===a.getChildrenSize()&&(i=a.getFirstChild(),o.$isListNode(i))){r.push(D(i,t,n+1));continue}i=" ".repeat(4*n);const l="ul"===e.getTag()?"- ":`${e.getStart()+s}. `;r.push(i+l+t(a)),s++}return r.join("\n")}function P(e,t,n){var r=t.getFirstChild();if(i.$isTextNode(r))e:{x(e),r=N.length;var o=t.getTextContent(),s=0===o.length;let d=0;for(;!s;){s=!0;for(let u=d;u<r;u++){var a=N[u];if(null==e.textNodeWithOffset){t:{var l=t.getChildren(),c=l.length;for(--c;0<=c;c--)if(i.$isTextNode(l[c])){l=l[c];break t}l=null}if(null==l)break e;e.textNodeWithOffset={node:l,offset:l.getTextContent().length}}if(null!=(l=v(a,e,t))){if(e.markdownCriteria=a,e.patternMatchResults=l,w(e,t,n),x(e),0===(a=t.getTextContent()).length)break e;if(a!==o){o=a,d=u,s=!1;break}}}}}else for(r=(t=t.getChildren()).length,o=0;o<r;o++)s=t[o],i.$isElementNode(s)&&P(e,s,n)}function I(e){for(const t of C)if(null!=t.export){const n=t.export(e,(e=>L(e)));if(null!=n)return n}return i.$isElementNode(e)?L(e):null}function L(e){const t=[];e=e.getChildren();for(const n of e)if(i.$isLineBreakNode(n))t.push("\n");else if(i.$isTextNode(n))t.push(F(n,n.getTextContent()));else if(s.$isLinkNode(n)){e=`[${n.getTextContent()}](${n.getURL()})`;const r=n.getFirstChild();1===n.getChildrenSize()&&i.$isTextNode(r)?t.push(F(r,e)):t.push(e)}else i.$isElementNode(n)&&t.push(L(n));return t.join("")}function F(e,t){const n=new Set;for(const o of N){const{exportFormat:i,exportTag:s,exportTagClose:a=s}=o;if(null!=i&&null!=s&&null!=a&&K(e,i)&&!n.has(i)){n.add(i);var r=B(e,!0);K(r,i)||(t=s+t),K(r=B(e,!1),i)||(t+=a)}}return t}function B(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();for(n||(e=e.getParentOrThrow()).isInline()&&(n=t?e.getPreviousSibling():e.getNextSibling());n;){if(i.$isElementNode(n)){if(!n.isInline())break;if(e=t?n.getLastDescendant():n.getFirstDescendant(),i.$isTextNode(e))return e;n=t?n.getPreviousSibling():n.getNextSibling()}if(i.$isTextNode(n))return n}return null}function K(e,t){return i.$isTextNode(e)&&e.hasFormat(t)}t.$convertFromMarkdownString=function(e,t,n){if(e.length){for(var r=[],o=(e=e.split("\n")).length,s=0;s<o;s++)0<e[s].length?r.push(i.$createParagraphNode().append(i.$createTextNode(e[s]))):r.push(i.$createParagraphNode());r.length?((e=i.$getRoot()).clear(),e.append(...r),r=e):r=null}else r=null;if(null!=r){for(t=T(t,!1,null,null),r=i.$getRoot(),e=!1,o=0;!e;){e=!0;for(var a=r.getChildren(),l=a.length,d=o;d<l;d++){var u=a[d];if(i.$isElementNode(u)){s=t;var g=n,f=u.getTextContent();if(i.$isParagraphNode(u)){var h=u.getFirstChild(),p=i.$isTextNode(h);if(!0===s.isWithinCodeBlock)null!=h&&p&&(s.textNodeWithOffset={node:h,offset:0},h=y,null!=(f=S(f,!0,!1,s.isAutoFormatting?h.regExForAutoFormatting:h.regEx))&&(s.patternMatchResults=f)),s.markdownCriteria=y,w(s,u,g);else if(u.getChildren().length)for(f=C.length,s.joinedText=u.getTextContent(),null!=h&&p||c(80),s.textNodeWithOffset={node:h,offset:0},h=0;h<f&&!1!==(p=C[h]).requiresParagraphStart;h++){const e=v(p,s,b(s).node.getParentOrThrow());if(null!=e){s.markdownCriteria=p,s.patternMatchResults=e,w(s,u,g);break}}}}if(x(t),r.getChildren().length!==l){o=d,e=!1;break}}}for(e=!1,o=0;!e;)for(e=!0,a=(s=r.getChildren()).length,l=o;l<a;l++)d=s[l],i.$isElementNode(d)&&P(t,d,n),x(t)}},t.$convertToMarkdownString=function(){const e=[];var t=i.$getRoot().getChildren();for(const n of t)null!=(t=I(n))&&e.push(t);return e.join("\n")},t.registerMarkdownShortcuts=function(e,t){let n=null;return e.registerUpdateListener((({tags:s})=>{if(!1===s.has("historic")){if(s=function(e){let t=null;return e.read((()=>{const e=i.$getSelection();if(i.$isRangeSelection(e)&&e.isCollapsed()){var n=e.anchor.getNode(),s=n.getParent(),a=o.$isListItemNode(s);t={anchorOffset:e.anchor.offset,hasParentNode:null!==s,isCodeBlock:r.$isCodeNode(n),isParentAListItemNode:a,isSelectionCollapsed:!0,isSimpleText:i.$isTextNode(n)&&n.isSimpleText(),nodeKey:n.getKey(),textContent:n.getTextContent()}}})),t}(e.getEditorState()),null==s)var a=null;else e:{var l=n;if(null==(a=s)||null==l)a=null;else{var c=d.length;for(let e=0;e<c;e++){const t=d[e].triggerString,n=t.length,r=a.textContent.length,o=a.anchorOffset-n;if(!1===(!0===a.hasParentNode&&a.isSimpleText&&a.isSelectionCollapsed&&a.anchorOffset!==l.anchorOffset&&0<=o&&o+n<=r&&a.textContent.substr(o,n)===t&&a.textContent!==l.textContent)){a=null;break e}}a=function(e,t){let n=null;return e.getEditorState().read((()=>{var r=i.$getSelection();if(i.$isRangeSelection(r)){var o=r.anchor.getNode();r=i.$isTextNode(o)?{node:o,offset:r.anchor.offset}:null}else r=null;if(null!==r){r=T(e,!0,r,t);t:{o=!1===t.isParentAListItemNode?E:N;const e=r.triggerState,n=o.length;for(let t=0;t<n;t++){const n=o[t];if(null!=e&&!1===e.isCodeBlock||"paragraphCodeBlock"===n.markdownFormatKind){const e=v(n,r,b(r).node.getParentOrThrow());if(null!=e){o={markdownCriteria:n,patternMatchResults:e};break t}}}o={markdownCriteria:null,patternMatchResults:null}}null!==o.markdownCriteria&&null!==o.patternMatchResults&&(n=r,n.markdownCriteria=o.markdownCriteria,n.patternMatchResults=o.patternMatchResults)}})),n}(e,a)}}null!=a&&function(e,t,n){e.update((()=>{const e=b(t).node.getParentOrThrow();w(t,e,n)}),{tag:"history-push"})}(e,a,t),n=s}else n=null}))}},7846:(e,t,n)=>{"use strict";const r=n(24);e.exports=r},24:(e,t,n)=>{var r=n(4260),o=n(8156);e.exports=function(){const[e]=r.useLexicalComposerContext();return o.useEffect((()=>{e.focus()}),[e]),null}},2292:(e,t,n)=>{"use strict";const r=n(4149);e.exports=r},4149:(e,t,n)=>{var r=n(4260),o=n(2998),i=n(8156),s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;e.exports=function({initialConfig:e,children:t}){const n=i.useMemo((()=>{const{theme:t,namespace:n,editor__DEPRECATED:i,nodes:s,onError:a}=e,l=r.createLexicalComposerContext(null,t);let c=i||null;if(null===c){const e=o.createEditor({namespace:n,nodes:s,onError:t=>a(t,e),readOnly:!0,theme:t});c=e}return[c,l]}),[]);return s((()=>{const t=e.readOnly,[r]=n;r.setReadOnly(t||!1)}),[]),i.createElement(r.LexicalComposerContext.Provider,{value:n},t)}},4260:(e,t,n)=>{"use strict";const r=n(3489);e.exports=r},3489:(e,t,n)=>{var r=n(8156);const o=r.createContext(null);t.LexicalComposerContext=o,t.createLexicalComposerContext=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},t.useLexicalComposerContext=function(){const e=r.useContext(o);if(null==e)throw Error("Minified Lexical error #0; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return e}},6898:(e,t,n)=>{"use strict";const r=n(5781);e.exports=r},5781:(e,t,n)=>{var r=n(4260),o=n(8156),i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;e.exports=function({ariaActiveDescendantID:e,ariaAutoComplete:t,ariaControls:n,ariaDescribedBy:s,ariaExpanded:a,ariaLabel:l,ariaLabelledBy:c,ariaMultiline:d,ariaOwneeID:u,ariaRequired:g,autoCapitalize:f,autoComplete:h,autoCorrect:p,className:m,id:_,role:y="textbox",spellCheck:N=!0,style:C,tabIndex:E,testid:T}){const[x]=r.useLexicalComposerContext(),[v,S]=o.useState(!0),b=o.useCallback((e=>{x.setRootElement(e)}),[x]);return i((()=>(S(x.isReadOnly()),x.registerReadOnlyListener((e=>{S(e)})))),[x]),o.createElement("div",{"aria-activedescendant":v?null:e,"aria-autocomplete":v?null:t,"aria-controls":v?null:n,"aria-describedby":s,"aria-expanded":v?null:"combobox"===y?!!a:null,"aria-label":l,"aria-labelledby":c,"aria-multiline":d,"aria-owns":v?null:u,"aria-required":g,autoCapitalize:f,autoComplete:h,autoCorrect:p,className:m,contentEditable:!v,"data-testid":T,id:_,ref:b,role:v?null:y,spellCheck:N,style:C,tabIndex:E})}},4506:(e,t,n)=>{"use strict";const r=n(548);e.exports=r},548:(e,t,n)=>{var r=n(4260),o=n(8854),i=n(8156);t.createEmptyHistoryState=o.createEmptyHistoryState,t.HistoryPlugin=function({externalHistoryState:e}){const[t]=r.useLexicalComposerContext();return function(e,t,n=1e3){const r=i.useMemo((()=>t||o.createEmptyHistoryState()),[t]);i.useEffect((()=>o.registerHistory(e,r,n)),[n,e,r])}(t,e),null}},1589:(e,t,n)=>{"use strict";const r=n(7618);e.exports=r},7618:(e,t,n)=>{var r=n(2998),o=n(8156);const i=r.createCommand();function s(){return o.createElement("hr",null)}class a extends r.DecoratorNode{static getType(){return"horizontalrule"}static clone(e){return new a(e.__key)}static importDOM(){return{hr:()=>({conversion:l,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){const e=document.createElement("div");return e.style.display="contents",e}getTextContent(){return"\n"}isTopLevel(){return!0}updateDOM(){return!1}decorate(){return o.createElement(s,null)}}function l(){return{node:c()}}function c(){return new a}t.$createHorizontalRuleNode=c,t.$isHorizontalRuleNode=function(e){return e instanceof a},t.HorizontalRuleNode=a,t.INSERT_HORIZONTAL_RULE_COMMAND=i},9421:(e,t,n)=>{"use strict";const r=n(6458);e.exports=r},6458:(e,t,n)=>{var r=n(3435),o=n(4260),i=n(2998),s=n(8156);e.exports=function(){const[e]=o.useLexicalComposerContext();return s.useEffect((()=>{if(!e.hasNodes([r.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor")}),[e]),s.useEffect((()=>e.registerCommand(r.TOGGLE_LINK_COMMAND,(e=>(function(e){var t=i.$getSelection();if(null!==t&&i.$setSelection(t),null!==(t=i.$getSelection()))if(t=t.extract(),null===e)t.forEach((e=>{if(e=e.getParent(),r.$isLinkNode(e)){const t=e.getChildren();for(let n=0;n<t.length;n++)e.insertBefore(t[n]);e.remove()}}));else{if(1===t.length){var n=t[0];if(r.$isLinkNode(n))return void n.setURL(e);if(n=n.getParent(),r.$isLinkNode(n))return void n.setURL(e)}let o=null,s=null;t.forEach((t=>{var n=t.getParent();if(n!==s&&null!==n&&(!i.$isElementNode(t)||t.isInline()))if(r.$isLinkNode(n))s=n,n.setURL(e);else if(n.is(o)||(o=n,s=r.$createLinkNode(e),r.$isLinkNode(n)?null===t.getPreviousSibling()?n.insertBefore(s):n.insertAfter(s):t.insertBefore(s)),r.$isLinkNode(t)){if(null!==s){n=t.getChildren();for(let e=0;e<n.length;e++)s.append(n[e])}t.remove()}else null!==s&&s.append(t)}))}}(e),!0)),i.COMMAND_PRIORITY_EDITOR)),[e]),null}},8957:(e,t,n)=>{"use strict";const r=n(7336);e.exports=r},7336:(e,t,n)=>{var r=n(4260),o=n(4783),i=n(6969),s=n(2998),a=n(8156);e.exports=function(){const[e]=r.useLexicalComposerContext();return function(e){a.useEffect((()=>i.mergeRegister(e.registerCommand(s.INDENT_CONTENT_COMMAND,(()=>(o.indentList(),!1)),s.COMMAND_PRIORITY_LOW),e.registerCommand(s.OUTDENT_CONTENT_COMMAND,(()=>(o.outdentList(),!1)),s.COMMAND_PRIORITY_LOW),e.registerCommand(o.INSERT_ORDERED_LIST_COMMAND,(()=>(o.insertList(e,"ol"),!0)),s.COMMAND_PRIORITY_LOW),e.registerCommand(o.INSERT_UNORDERED_LIST_COMMAND,(()=>(o.insertList(e,"ul"),!0)),s.COMMAND_PRIORITY_LOW),e.registerCommand(o.REMOVE_LIST_COMMAND,(()=>(o.removeList(e),!0)),s.COMMAND_PRIORITY_LOW),e.registerCommand(s.INSERT_PARAGRAPH_COMMAND,(()=>!!o.$handleListInsertParagraph()),s.COMMAND_PRIORITY_LOW))),[e])}(e),null}},7632:(e,t,n)=>{"use strict";const r=n(8845);e.exports=r},8845:(e,t,n)=>{var r=n(4260),o=n(6571),i=n(1589),s=n(8156);e.exports=function(){const[e]=r.useLexicalComposerContext();return function(e){s.useEffect((()=>o.registerMarkdownShortcuts(e,i.$createHorizontalRuleNode)),[e])}(e),null}},1954:(e,t,n)=>{"use strict";const r=n(1689);e.exports=r},1689:(e,t,n)=>{var r=n(4260),o=n(8156),i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;e.exports=function({ignoreInitialChange:e=!0,ignoreSelectionChange:t=!1,onChange:n}){const[o]=r.useLexicalComposerContext();return i((()=>{if(n)return o.registerUpdateListener((({editorState:r,dirtyElements:i,dirtyLeaves:s,prevEditorState:a})=>{t&&0===i.size&&0===s.size||e&&a.isEmpty()||n(r,o)}))}),[o,e,t,n]),null}},6146:(e,t,n)=>{"use strict";const r=n(1827);e.exports=r},1827:(e,t,n)=>{var r=n(4260),o=n(8156),i=n(2977),s=n(7111),a=n(573),l=n(2903),c=n(6969),d="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;e.exports=function({contentEditable:e,placeholder:t,initialEditorState:n}){const[u]=r.useLexicalComposerContext(),g=function(e){const[t,n]=o.useState(e.getEditorState().read(i.$canShowPlaceholderCurry(e.isComposing())));return d((()=>e.registerUpdateListener((({editorState:t})=>{const r=e.isComposing();t=t.read(i.$canShowPlaceholderCurry(r)),n(t)}))),[e]),t}(u);return function(e,t){d((()=>c.mergeRegister(l.registerRichText(e,t),a.registerDragonSupport(e))),[e])}(u,n),n=function(e){const[t,n]=o.useState((()=>e.getDecorators()));return d((()=>e.registerDecoratorListener((e=>{s.flushSync((()=>{n(e)}))}))),[e]),o.useMemo((()=>{const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){var o=r[i];const a=t[o];null!==(o=e.getElementByKey(o))&&n.push(s.createPortal(a,o))}return n}),[t,e])}(u),o.createElement(o.Fragment,null,e,g&&t,n)}},2903:(e,t,n)=>{"use strict";const r=n(925);e.exports=r},925:(e,t,n)=>{var r=n(6907),o=n(9408),i=n(6969),s=n(2998);const a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,l=a&&"documentMode"in document?document.documentMode:null;a&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),a&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);const c=!(!a||!("InputEvent"in window)||l)&&"getTargetRanges"in new window.InputEvent("input"),d=a&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),u=a&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,g={tag:"history-merge"};class f extends s.ElementNode{static getType(){return"quote"}static clone(e){return new f(e.__key)}constructor(e){super(e)}createDOM(e){const t=document.createElement("blockquote");return i.addClassNamesToElement(t,e.theme.quote),t}updateDOM(){return!1}insertNewAfter(){const e=s.$createParagraphNode(),t=this.getDirection();return e.setDirection(t),this.insertAfter(e),e}collapseAtStart(){const e=s.$createParagraphNode();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}}class h extends s.ElementNode{static getType(){return"heading"}static clone(e){return new h(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}createDOM(e){const t=this.__tag,n=document.createElement(t);return void 0!==(e=e.theme.heading)&&i.addClassNamesToElement(n,e[t]),n}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:p,priority:0}),h2:()=>({conversion:p,priority:0}),h3:()=>({conversion:p,priority:0}),h4:()=>({conversion:p,priority:0}),h5:()=>({conversion:p,priority:0})}}insertNewAfter(){const e=s.$createParagraphNode(),t=this.getDirection();return e.setDirection(t),this.insertAfter(e),e}collapseAtStart(){const e=s.$createParagraphNode();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}}function p(e){let t=null;return"h1"!==(e=e.nodeName.toLowerCase())&&"h2"!==e&&"h3"!==e&&"h4"!==e&&"h5"!==e||(t=m(e)),{node:t}}function m(e){return new h(e)}function _(e,t){e.preventDefault(),t.update((()=>{const n=e.clipboardData,o=s.$getSelection();if(null!==o&&null!=n){const e=r.getHtmlContent(t),i=r.$getLexicalContent(t);null!==e&&n.setData("text/html",e),null!==i&&n.setData("application/x-lexical-editor",i),n.setData("text/plain",o.getTextContent())}}))}function y(e,t){var n=s.$getSelection();if(s.$isRangeSelection(n)){var r=new Set;n=n.getNodes();for(let s=0;s<n.length;s++){const a=n[s];var o=a.getKey();r.has(o)||(r.add(o),(o=i.$getNearestBlockElementAncestorOrThrow(a)).canInsertTab()?e(a):o.canIndent()&&t(o))}}}t.$createHeadingNode=m,t.$createQuoteNode=function(){return new f},t.$isHeadingNode=function(e){return e instanceof h},t.$isQuoteNode=function(e){return e instanceof f},t.HeadingNode=h,t.QuoteNode=f,t.registerRichText=function(e,t){const n=i.mergeRegister(e.registerCommand(s.CLICK_COMMAND,(()=>{const e=s.$getSelection();return!!s.$isNodeSelection(e)&&(e.clear(),!0)}),0),e.registerCommand(s.DELETE_CHARACTER_COMMAND,(e=>{const t=s.$getSelection();return!!s.$isRangeSelection(t)&&(t.deleteCharacter(e),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.DELETE_WORD_COMMAND,(e=>{const t=s.$getSelection();return!!s.$isRangeSelection(t)&&(t.deleteWord(e),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.DELETE_LINE_COMMAND,(e=>{const t=s.$getSelection();return!!s.$isRangeSelection(t)&&(t.deleteLine(e),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.INSERT_TEXT_COMMAND,(t=>{const n=s.$getSelection();if("string"==typeof t)s.$isRangeSelection(n)?n.insertText(t):s.$isGridSelection(n);else{if(!s.$isRangeSelection(n)&&!s.$isGridSelection(n))return!1;const o=t.dataTransfer;null!=o?r.$insertDataTransferForRichText(o,n,e):s.$isRangeSelection(n)&&(t=t.data)&&n.insertText(t)}return!0}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.REMOVE_TEXT_COMMAND,(()=>{const e=s.$getSelection();return!!s.$isRangeSelection(e)&&(e.removeText(),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.FORMAT_TEXT_COMMAND,(e=>{const t=s.$getSelection();return!!s.$isRangeSelection(t)&&(t.formatText(e),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.FORMAT_ELEMENT_COMMAND,(e=>{var t=s.$getSelection();if(!s.$isRangeSelection(t)&&!s.$isNodeSelection(t))return!1;t=t.getNodes();for(const n of t)i.$getNearestBlockElementAncestorOrThrow(n).setFormat(e);return!0}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.INSERT_LINE_BREAK_COMMAND,(e=>{const t=s.$getSelection();return!!s.$isRangeSelection(t)&&(t.insertLineBreak(e),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.INSERT_PARAGRAPH_COMMAND,(()=>{const e=s.$getSelection();return!!s.$isRangeSelection(e)&&(e.insertParagraph(),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.INDENT_CONTENT_COMMAND,(()=>(y((()=>{e.dispatchCommand(s.INSERT_TEXT_COMMAND,"\t")}),(e=>{const t=e.getIndent();10!==t&&e.setIndent(t+1)})),!0)),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.OUTDENT_CONTENT_COMMAND,(()=>(y((t=>{s.$isTextNode(t)&&"\t"===(t=t.getTextContent())[t.length-1]&&e.dispatchCommand(s.DELETE_CHARACTER_COMMAND,!0)}),(e=>{const t=e.getIndent();0!==t&&e.setIndent(t-1)})),!0)),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.KEY_ARROW_LEFT_COMMAND,(e=>{const t=s.$getSelection();if(!s.$isRangeSelection(t))return!1;const n=e.shiftKey;return!!o.$shouldOverrideDefaultCharacterSelection(t,!0)&&(e.preventDefault(),o.$moveCharacter(t,n,!0),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.KEY_ARROW_RIGHT_COMMAND,(e=>{const t=s.$getSelection();if(!s.$isRangeSelection(t))return!1;const n=e.shiftKey;return!!o.$shouldOverrideDefaultCharacterSelection(t,!1)&&(e.preventDefault(),o.$moveCharacter(t,n,!1),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.KEY_BACKSPACE_COMMAND,(t=>{const n=s.$getSelection();return!!s.$isRangeSelection(n)&&(t.preventDefault(),({anchor:t}=n),n.isCollapsed()&&0===t.offset&&0<i.$getNearestBlockElementAncestorOrThrow(t.getNode()).getIndent()?e.dispatchCommand(s.OUTDENT_CONTENT_COMMAND):e.dispatchCommand(s.DELETE_CHARACTER_COMMAND,!0))}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.KEY_DELETE_COMMAND,(t=>{const n=s.$getSelection();return!!s.$isRangeSelection(n)&&(t.preventDefault(),e.dispatchCommand(s.DELETE_CHARACTER_COMMAND,!1))}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.KEY_ENTER_COMMAND,(t=>{const n=s.$getSelection();if(!s.$isRangeSelection(n))return!1;if(null!==t){if((u||d)&&c)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(s.INSERT_LINE_BREAK_COMMAND)}return e.dispatchCommand(s.INSERT_PARAGRAPH_COMMAND)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.KEY_TAB_COMMAND,(t=>{const n=s.$getSelection();return!!s.$isRangeSelection(n)&&(t.preventDefault(),e.dispatchCommand(t.shiftKey?s.OUTDENT_CONTENT_COMMAND:s.INDENT_CONTENT_COMMAND))}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.KEY_ESCAPE_COMMAND,(()=>{const t=s.$getSelection();return!!s.$isRangeSelection(t)&&(e.blur(),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.DROP_COMMAND,(e=>{const t=s.$getSelection();return!!s.$isRangeSelection(t)&&(e.preventDefault(),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.DRAGSTART_COMMAND,(e=>{const t=s.$getSelection();return!!s.$isRangeSelection(t)&&(e.preventDefault(),!0)}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.COPY_COMMAND,(t=>{const n=s.$getSelection();return!(!s.$isRangeSelection(n)&&!s.$isGridSelection(n)||(_(t,e),0))}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.CUT_COMMAND,(t=>{const n=s.$getSelection();return!(!s.$isRangeSelection(n)&&!s.$isGridSelection(n)||(function(e,t){_(e,t),t.update((()=>{const e=s.$getSelection();s.$isRangeSelection(e)&&e.removeText()}))}(t,e),0))}),s.COMMAND_PRIORITY_EDITOR),e.registerCommand(s.PASTE_COMMAND,(t=>{const n=s.$getSelection();return!(!s.$isRangeSelection(n)&&!s.$isGridSelection(n)||(function(e,t){e.preventDefault(),t.update((()=>{const n=s.$getSelection(),o=e.clipboardData;(null!=o&&s.$isRangeSelection(n)||s.$isGridSelection(n))&&r.$insertDataTransferForRichText(o,n,t)}))}(t,e),0))}),s.COMMAND_PRIORITY_EDITOR));return function(e,t){if(null!==t)if(void 0===t)e.update((()=>{var t=s.$getRoot();if(null===t.getFirstChild()){const n=s.$createParagraphNode();t.append(n),t=document.activeElement,(null!==s.$getSelection()||null!==t&&t===e.getRootElement())&&n.select()}}),g);else if(null!==t)switch(typeof t){case"string":t=e.parseEditorState(t),e.setEditorState(t,g);break;case"object":e.setEditorState(t,g);break;case"function":e.update(t,g)}}(e,t),n}},9408:(e,t,n)=>{"use strict";const r=n(9235);e.exports=r},9235:(e,t,n)=>{var r=n(2998);const o=new Map;function i(e){const t=(e=e.getLatest()).constructor.clone(e);if(t.__parent=e.__parent,r.$isElementNode(e)&&r.$isElementNode(t))t.__children=Array.from(e.__children),t.__format=e.__format,t.__indent=e.__indent,t.__dir=e.__dir;else if(r.$isTextNode(e)&&r.$isTextNode(t)){const n=e.__marks;t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail,t.__marks=null===n?null:Array.from(n)}return t}function s(e,t,n,o,s,a){for(var l=t;null!==e;){for(t=e.getParent();null!==t&&t.excludeFromCopy();)t=t.getParent();if(null===t)break;if(!r.$isElementNode(e)||!e.excludeFromCopy()){const c=e.getKey();let d=a.get(c);const u=void 0===d;if(u&&(d=i(e),a.set(c,d)),!r.$isTextNode(d)||d.isSegmented()||d.isToken()?r.$isElementNode(d)&&(d.__children=d.__children.slice(o?l:0,o?void 0:(l||0)+1)):d.__text=d.__text.slice(o?l:0,o?n:l),r.$isRootNode(t)){u&&s.push(c);break}}l=a.get(t.getKey()),l=r.$isElementNode(l)?l.__children.indexOf(e.getKey()):e.getIndexWithinParent(),e=t}}function a(e){return o.get(e)||null}function l(e,t){var n=a(e.getStyle());for(r in t=n?{...n,...t}:t,n="",t)r&&(n+=`${r}: ${t[r]};`);var r=n;e.setStyle(r),o.set(r,t)}function c(e,t,n,r){e.modify(t?"extend":"move",n,r)}function d(e){return e=e.anchor.getNode(),"rtl"===(r.$isRootNode(e)?e:e.getParentOrThrow()).getDirection()}function u(e){for(;null!==e&&!r.$isRootNode(e);){const t=e.getLatest(),n=e.getParent();0===t.__children.length&&e.remove(!0),e=n}}t.$cloneContents=function(e){return function(e){if(r.$isRangeSelection(e)){var t=e.anchor,n=e.focus;const[u,g]=e.getCharacterOffsets();if(0===(e=e.getNodes()).length)return{nodeMap:[],range:[]};let f=e.length;var o=e[0],a=o.getParent();if(null!==a&&(!a.canBeEmpty()||r.$isRootNode(a))){var l=a.__children;if(l.length===f){for(var c=!0,d=0;d<l.length;d++)if(l[d]!==e[d].__key){c=!1;break}c&&(f++,e.push(a))}}for(a=e[f-1],t=t.isBefore(n),n=new Map,l=[],s(o,t?u:g,(c=r.$isTextNode(o)&&1===f)?t?g:u:void 0,!0,l,n),o=0;o<f;o++){const t=(d=e[o]).getKey();if(!(n.has(t)||r.$isElementNode(d)&&d.excludeFromCopy())){const e=i(d);r.$isRootNode(d.getParent())&&l.push(d.getKey()),"root"!==t&&n.set(t,e)}}return s(a,c?void 0:t?g:u,void 0,!1,l,n),{nodeMap:Array.from(n.entries()),range:l}}if(r.$isGridSelection(e))return{nodeMap:e.getNodes().map((e=>[e.getKey(),e=i(e)])),range:[e.gridKey]};throw Error("Minified Lexical error #68; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")}(e)},t.$getSelectionStyleValueForProperty=function(e,t,n=""){let o=null;const i=e.getNodes();var s=e.anchor,l=e.focus,c=e.isBackward();for(e=c?l.offset:s.offset,s=c?l.getNode():s.getNode(),l=0;l<i.length;l++){var d=i[l];if((0===l||0!==e||!d.is(s))&&r.$isTextNode(d)){c=t;var u=n;if(c=null!==(d=a(d=d.getStyle()))&&d[c]||u,null===o)o=c;else if(o!==c){o="";break}}}return null===o?n:o},t.$isAtNodeEnd=function(e){return"text"===e.type?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()},t.$isParentElementRTL=d,t.$moveCaretSelection=c,t.$moveCharacter=function(e,t,n){const r=d(e);c(e,t,n?!r:r,"character")},t.$patchStyleText=function(e,t){var n=e.getNodes();const o=n.length-1;let i=n[0],s=n[o];if(!e.isCollapsed()){var a=e.anchor,c=e.focus;e=i.getTextContent().length;var d=c.offset,u=a.offset;if(a=(c=a.isBefore(c))?u:d,c=c?d:u,a===i.getTextContentSize()){const e=i.getNextSibling();r.$isTextNode(e)&&(a=u=0,i=e)}if(i.is(s))r.$isTextNode(i)&&(a=u>d?d:u)!==(c=u>d?u:d)&&(0===a&&c===e?(l(i,t),i.select(a,c)):(n=i.splitText(a,c),l(n=0===a?n[0]:n[1],t),n.select(0,c-a)));else for(r.$isTextNode(i)&&(0!==a&&([,i]=i.splitText(a)),l(i,t)),r.$isTextNode(s)&&(c!==(e=s.getTextContent().length)&&([s]=s.splitText(c)),0!==c&&l(s,t)),e=1;e<o;e++)u=(d=n[e]).getKey(),r.$isTextNode(d)&&u!==i.getKey()&&u!==s.getKey()&&!d.isToken()&&l(d,t)}},t.$selectAll=function(e){const t=e.anchor;e=e.focus;var n=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();let o=n.getFirstDescendant();n=n.getLastDescendant();let i="element",s="element",a=0;r.$isTextNode(o)?i="text":r.$isElementNode(o)||null===o||(o=o.getParentOrThrow()),r.$isTextNode(n)?(s="text",a=n.getTextContentSize()):r.$isElementNode(n)||null===n||(a=(n=n.getParentOrThrow()).getChildrenSize()),o&&n&&(t.set(o.getKey(),0,i),e.set(n.getKey(),a,s))},t.$shouldOverrideDefaultCharacterSelection=function(e,t){return e=r.$getDecoratorNode(e.focus,t),r.$isDecoratorNode(e)&&!e.isIsolated()},t.$wrapLeafNodesInElements=function(e,t,n){const o=e.getNodes(),i=o.length;var s=e.anchor;if(0===i||1===i&&"element"===s.type&&0===s.getNode().getChildrenSize()){e="text"===s.type?s.getNode().getParentOrThrow():s.getNode(),s=e.getChildren();let r=t();s.forEach((e=>r.append(e))),n&&(r=n.append(r)),e.replace(r)}else{var a=o[0],l=new Map;for(s=[],(a=r.$isElementNode(a)?a:a.getParentOrThrow()).isInline()&&(a=a.getParentOrThrow());null!==a;){var c=a.getPreviousSibling();if(null!==c){a=c;break}if(a=a.getParentOrThrow(),r.$isRootNode(a))break}c=new Set;for(var d=0;d<i;d++){var g=o[d];r.$isElementNode(g)&&0===g.getChildrenSize()&&c.add(g.getKey())}var f=new Set;for(d=0;d<i;d++){var h=o[d];if(null!==(g=h.getParent())&&g.isInline()&&(g=g.getParent()),null!==g&&r.$isLeafNode(h)&&!f.has(h.getKey())){if(h=g.getKey(),void 0===l.get(h)){const e=t();s.push(e),l.set(h,e),g.getChildren().forEach((t=>{e.append(t),f.add(t.getKey())})),u(g)}}else c.has(h.getKey())&&(s.push(t()),h.remove())}if(n)for(t=0;t<s.length;t++)n.append(s[t]);if(r.$isRootNode(a))if(t=a.getFirstChild(),r.$isElementNode(t)&&(a=t),null===t)if(n)a.append(n);else for(n=0;n<s.length;n++)a.append(s[n]);else if(n)t.insertBefore(n);else for(n=0;n<s.length;n++)t.insertBefore(s[n]);else if(n)a.insertAfter(n);else for(n=s.length-1;0<=n;n--)a.insertAfter(s[n]);n=r.$getPreviousSelection(),r.$isRangeSelection(n)&&n.anchor.getNode().isAttached()&&n.focus.getNode().isAttached()?((e=n.clone()).dirty=!0,r.$setSelection(e)):e.dirty=!0}},t.getStyleObjectFromCSS=a},1058:(e,t,n)=>{"use strict";const r=n(9957);e.exports=r},9957:(e,t,n)=>{var r=n(2998),o=n(6969);const i={NO_STATUS:0,ROW:1,COLUMN:2,BOTH:3};class s extends r.GridCellNode{static getType(){return"tablecell"}static clone(e){return new s(e.__headerState,e.__colSpan,e.__width,e.__key)}static importDOM(){return{td:()=>({conversion:a,priority:0}),th:()=>({conversion:a,priority:0})}}constructor(e=i.NO_STATUS,t=1,n,r){super(t,r),this.__headerState=e,this.__width=n}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),o.addClassNamesToElement(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){if(({element:e}=super.exportDOM(e)),e){const t=this.getParentOrThrow().getChildrenSize();e.style.border="1px solid black",e.style.width=`${this.getWidth()||Math.max(90,700/t)}px`,e.style.verticalAlign="top",e.style.textAlign="start",this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return{element:e}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}toggleHeaderStyle(e){const t=this.getWritable();return t.__headerState=(t.__headerState&e)===e?t.__headerState-e:t.__headerState+e,t.__headerState=t.__headerState,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==i.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function a(e){return{node:l("th"===(e=e.nodeName.toLowerCase())?i.ROW:i.NO_STATUS),forChild:(e,t)=>c(t)&&!r.$isElementNode(e)?(t=r.$createParagraphNode(),r.$isLineBreakNode(e)&&"\n"===e.getTextContent()?null:(t.append(e),t)):e}}function l(e,t=1,n){return new s(e,t,n)}function c(e){return e instanceof s}function d(e){throw Error(`Minified Lexical error #${e}; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class u extends r.GridRowNode{static getType(){return"tablerow"}static clone(e){return new u(e.__height,e.__key)}static importDOM(){return{tr:()=>({conversion:g,priority:0})}}constructor(e,t){super(t),this.__height=e}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),o.addClassNamesToElement(t,e.theme.tableRow),t}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function g(){return{node:f()}}function f(e){return new u(e)}function h(e){return e instanceof u}if("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement){const e=document.createElement("style");e.innerHTML="\n    table.disable-selection {\n      -webkit-touch-callout: none;\n      -webkit-user-select: none; \n      -khtml-user-select: none; \n      -moz-user-select: none; \n      -ms-user-select: none; \n      user-select: none;\n    }\n  \n    .disable-selection span::selection{\n      background-color: transparent;\n    }\n    .disable-selection br::selection{\n      background-color: transparent;\n    }\n  ",document.body&&document.body.append(e)}class p{constructor(e,t){this.isHighlightingCells=!1,this.currentY=this.currentX=this.startY=this.startX=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}getGrid(){return this.grid}removeListeners(){Array.from(this.listenersToRemove).forEach((e=>e()))}trackTableGrid(){const e=new MutationObserver((e=>{this.editor.update((()=>{var t=!1;for(let n=0;n<e.length;n++){const r=e[n].target.nodeName;if("TABLE"===r||"TR"===r){t=!0;break}}if(t){if(!(t=this.editor.getElementByKey(this.tableNodeKey)))throw Error("Expected to find TableElement in DOM");this.grid=_(t)}}))}));this.editor.update((()=>{const t=this.editor.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");this.grid=_(t),e.observe(t,{childList:!0,subtree:!0})}))}clearHighlight(){this.editor.update((()=>{var e=r.$getNodeByKey(this.tableNodeKey);if(!w(e))throw Error("Expected TableNode.");if(!(e=this.editor.getElementByKey(this.tableNodeKey)))throw Error("Expected to find TableElement in DOM");e=_(e),this.isHighlightingCells=!1,this.currentY=this.currentX=this.startY=this.startX=-1,this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,y(e,null),r.$setSelection(null),this.editor.dispatchCommand(r.SELECTION_CHANGE_COMMAND),this.enableHighlightStyle()}))}enableHighlightStyle(){this.editor.update((()=>{const e=this.editor.getElementByKey(this.tableNodeKey);if(!e)throw Error("Expected to find TableElement in DOM");e.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}))}disableHighlightStyle(){this.editor.update((()=>{const e=this.editor.getElementByKey(this.tableNodeKey);if(!e)throw Error("Expected to find TableElement in DOM");e.classList.add("disable-selection"),this.hasHijackedSelectionStyles=!0}))}updateTableGridSelection(e){if(null!=e){this.gridSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle();const t=this.editor.getElementByKey(e.anchor.key);e=this.editor.getElementByKey(e.focus.key),t&&e&&window.getSelection().setBaseAndExtent(t,0,e,0),y(this.grid,this.gridSelection)}else this.clearHighlight()}adjustFocusCellForSelection(e,t=!1){this.editor.update((()=>{var n=r.$getNodeByKey(this.tableNodeKey);if(!w(n))throw Error("Expected TableNode.");if(!this.editor.getElementByKey(this.tableNodeKey))throw Error("Expected to find TableElement in DOM");n=e.x;const o=e.y;this.focusCell=e;const i=window.getSelection();if(null!==this.anchorCell&&i.setBaseAndExtent(this.anchorCell.elem,0,e.elem,0),this.isHighlightingCells||this.startX===n&&this.startY===o&&!t){if(n===this.currentX&&o===this.currentY)return}else this.isHighlightingCells=!0,this.disableHighlightStyle();this.currentX=n,this.currentY=o,this.isHighlightingCells&&(n=r.$getNearestNodeFromDOMNode(e.elem),null!=this.gridSelection&&null!=this.anchorCellNodeKey&&c(n)&&(n=n.getKey(),this.gridSelection=r.$createGridSelection(),this.focusCellNodeKey=n,this.gridSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),r.$setSelection(this.gridSelection),this.editor.dispatchCommand(r.SELECTION_CHANGE_COMMAND),y(this.grid,this.gridSelection)))}))}setAnchorCellForSelection(e){this.editor.update((()=>{this.anchorCell=e,this.startX=e.x,this.startY=e.y,window.getSelection().setBaseAndExtent(e.elem,0,e.elem,0);var t=r.$getNearestNodeFromDOMNode(e.elem);c(t)&&(t=t.getKey(),this.gridSelection=r.$createGridSelection(),this.anchorCellNodeKey=t)}))}formatCells(e){this.editor.update((()=>{const t=r.$getSelection();r.$isGridSelection(t)||d(79);const n=r.$createRangeSelection(),o=n.anchor,i=n.focus;t.getNodes().forEach((t=>{c(t)&&0!==t.getTextContentSize()&&(o.set(t.getKey(),0,"element"),i.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e))})),r.$setSelection(t),this.editor.dispatchCommand(r.SELECTION_CHANGE_COMMAND)}))}clearText(){this.editor.update((()=>{const e=r.$getNodeByKey(this.tableNodeKey);if(!w(e))throw Error("Expected TableNode.");var t=r.$getSelection();r.$isGridSelection(t)||d(79),(t=t.getNodes().filter(c)).length===this.grid.columns*this.grid.rows?(e.selectPrevious(),e.remove(),this.clearHighlight()):(t.forEach((e=>{if(r.$isElementNode(e)){const t=r.$createParagraphNode(),n=r.$createTextNode();t.append(n),e.append(t),e.getChildren().forEach((e=>{e!==t&&e.remove()}))}})),y(this.grid,null),r.$setSelection(null),this.editor.dispatchCommand(r.SELECTION_CHANGE_COMMAND))}))}}function m(e){for(;null!=e;){const t=e.nodeName;if("TD"===t||"TH"===t){if(void 0===(e=e._cell))break;return e}e=e.parentNode}return null}function _(e){const t=[],n={cells:t,columns:0,rows:0};var r=e.firstChild;let o=e=0;for(t.length=0;null!=r;){var i=r.nodeName;if("TD"===i||"TH"===i)i={elem:r,highlighted:!1,x:e,y:o},r._cell=i,void 0===t[o]&&(t[o]=[]),t[o][e]=i;else if(null!=(i=r.firstChild)){r=i;continue}if(null!=(i=r.nextSibling))e++,r=i;else if(null!=(i=r.parentNode)){if(null==(r=i.nextSibling))break;o++,e=0}}return n.columns=e+1,n.rows=o+1,n}function y(e,t){const n=[],r=new Set(t?t.getNodes():[]);return N(e,((e,t)=>{const o=e.elem;r.has(t)?(e.highlighted=!0,o.style.setProperty("background-color","rgb(172, 206, 247)"),o.style.setProperty("caret-color","transparent"),n.push(e)):(e.highlighted=!1,o.style.removeProperty("background-color"),o.style.removeProperty("caret-color"),o.getAttribute("style")||o.removeAttribute("style"))})),n}function N(e,t){({cells:e}=e);for(let n=0;n<e.length;n++){const o=e[n];for(let e=0;e<o.length;e++){const i=o[e],s=r.$getNearestNodeFromDOMNode(i.elem);null!==s&&t(i,s,{x:e,y:n})}}}function C(e){e.disableHighlightStyle(),N(e.grid,(e=>{const t=e.elem;e.highlighted=!0,t.style.setProperty("background-color","rgb(172, 206, 247)"),t.style.setProperty("caret-color","transparent")}))}const E=(e,t,n,r,o)=>{switch(o){case"backward":case"forward":return n!==((o="forward"===o)?e.grid.columns-1:0)?v(t.getCellNodeFromCordsOrThrow(n+(o?1:-1),r,e.grid)):r!==(o?e.grid.rows-1:0)?v(t.getCellNodeFromCordsOrThrow(o?0:e.grid.columns-1,r+(o?1:-1),e.grid)):o?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==r?v(t.getCellNodeFromCordsOrThrow(n,r-1,e.grid)):t.selectPrevious(),!0;case"down":return r!==e.grid.rows-1?v(t.getCellNodeFromCordsOrThrow(n,r+1,e.grid)):t.selectNext(),!0}return!1},T=(e,t,n,r,o)=>{switch(o){case"backward":case"forward":return n!==((o="forward"===o)?e.grid.columns-1:0)&&e.adjustFocusCellForSelection(t.getCellFromCordsOrThrow(n+(o?1:-1),r,e.grid)),!0;case"up":if(0!==r)return e.adjustFocusCellForSelection(t.getCellFromCordsOrThrow(n,r-1,e.grid)),!0;break;case"down":if(r!==e.grid.rows-1)return e.adjustFocusCellForSelection(t.getCellFromCordsOrThrow(n,r+1,e.grid)),!0}return!1};function x(e,t){if(r.$isRangeSelection(e)||r.$isGridSelection(e)){const n=t.isParentOf(e.anchor.getNode());return e=t.isParentOf(e.focus.getNode()),n&&e}return!1}function v(e){const t=e.getChildren().find((e=>r.$isParagraphNode(e)));r.$isParagraphNode(t)?t.selectEnd():e.selectEnd()}class S extends r.GridNode{static getType(){return"table"}static clone(e){return new S(e.__key)}static importDOM(){return{table:()=>({conversion:b,priority:0})}}constructor(e){super(e)}createDOM(e){const t=document.createElement("table");return o.addClassNamesToElement(t,e.theme.table),t}updateDOM(){return!1}exportDOM(e){return{...super.exportDOM(e),after:e=>{if(e){const t=e.cloneNode(),n=document.createElement("colgroup"),r=document.createElement("tbody");if(r.append(...e.children),!h(e=this.getFirstChildOrThrow()))throw Error("Expected to find row node.");e=e.getChildrenSize();for(let t=0;t<e;t++){const e=document.createElement("col");n.append(e)}return t.replaceChildren(n,r),t}}}}canExtractContents(){return!1}canBeEmpty(){return!1}getCordsFromCellNode(e,t){t||d(55);const{rows:n,cells:o}=t;for(t=0;t<n;t++){var i=o[t];if(null==i)throw Error(`Row not found at y:${t}`);if(-1!==(i=i.findIndex((({elem:t})=>r.$getNearestNodeFromDOMNode(t)===e))))return{x:i,y:t}}throw Error("Cell not found in table.")}getCellFromCords(e,t,n){return n||d(55),({cells:n}=n),null==(t=n[t])||null==(e=t[e])?null:e}getCellFromCordsOrThrow(e,t,n){if(!(e=this.getCellFromCords(e,t,n)))throw Error("Cell not found at cords.");return e}getCellNodeFromCords(e,t,n){return null==(e=this.getCellFromCords(e,t,n))?null:c(e=r.$getNearestNodeFromDOMNode(e.elem))?e:null}getCellNodeFromCordsOrThrow(e,t,n){if(!(e=this.getCellNodeFromCords(e,t,n)))throw Error("Node at cords not TableCellNode.");return e}canSelectBefore(){return!0}canIndent(){return!1}}function b(){return{node:O()}}function O(){return new S}function w(e){return e instanceof S}function k(e){if(e=o.$findMatchingParent(e,(e=>h(e))),h(e))return e;throw Error("Expected table cell to be inside of table row.")}function A(e){if(e=o.$findMatchingParent(e,(e=>w(e))),w(e))return e;throw Error("Expected table cell to be inside of table.")}const M=r.createCommand();t.$createTableCellNode=l,t.$createTableNode=O,t.$createTableNodeWithDimensions=function(e,t,n=!0){const o=O();for(let a=0;a<e;a++){const e=f();for(let o=0;o<t;o++){var s=i.NO_STATUS;n&&(0===a&&(s|=i.ROW),0===o&&(s|=i.COLUMN)),s=l(s);const t=r.$createParagraphNode();t.append(r.$createTextNode()),s.append(t),e.append(s)}o.append(e)}return o},t.$createTableRowNode=f,t.$deleteTableColumn=function(e,t){const n=e.getChildren();for(let e=0;e<n.length;e++){var r=n[e];if(h(r)){if(t>=(r=r.getChildren()).length||0>t)throw Error("Table column target index out of range");r[t].remove()}}return e},t.$getElementGridForTableNode=function(e,t){if(null==(e=e.getElementByKey(t.getKey())))throw Error("Table Element Not Found");return _(e)},t.$getTableCellNodeFromLexicalNode=function(e){return e=o.$findMatchingParent(e,(e=>c(e))),c(e)?e:null},t.$getTableColumnIndexFromTableCellNode=function(e){return k(e).getChildren().findIndex((t=>t.is(e)))},t.$getTableNodeFromLexicalNodeOrThrow=A,t.$getTableRowIndexFromTableCellNode=function(e){const t=k(e);return A(t).getChildren().findIndex((e=>e.is(t)))},t.$getTableRowNodeFromTableCellNodeOrThrow=k,t.$insertTableColumn=function(e,t,n=!0,o){const s=e.getChildren();for(let e=0;e<s.length;e++){const d=s[e];if(h(d))for(let s=0;s<o;s++){var a=i.NO_STATUS;0===e&&(a|=i.ROW),(a=l(a)).append(r.$createParagraphNode());var c=d.getChildren();if(t>=c.length||0>t)throw Error("Table column target index out of range");c=c[t],n?c.insertAfter(a):c.insertBefore(a)}}return e},t.$insertTableRow=function(e,t,n=!0,o,s){var a=e.getChildren();if(t>=a.length||0>t)throw Error("Table row target index out of range");if(!h(t=a[t]))throw Error("Row before insertion index does not exist.");for(a=0;a<o;a++){const e=t.getChildren(),o=e.length,a=f();for(let t=0;t<o;t++){var u=e[t];c(u)||d(73);var g=s;const n=A(u),{x:o,y:f}=n.getCordsFromCellNode(u,g);u={above:n.getCellNodeFromCords(o,f-1,g),below:n.getCellNodeFromCords(o,f+1,g),left:n.getCellNodeFromCords(o-1,f,g),right:n.getCellNodeFromCords(o+1,f,g)};const{above:h,below:p}=u;u=i.NO_STATUS,g=h&&h.getWidth()||p&&p.getWidth()||null,(h&&h.hasHeaderState(i.COLUMN)||p&&p.hasHeaderState(i.COLUMN))&&(u|=i.COLUMN),(u=l(u,1,g)).append(r.$createParagraphNode()),a.append(u)}n?t.insertAfter(a):t.insertBefore(a)}return e},t.$isTableCellNode=c,t.$isTableNode=w,t.$isTableRowNode=h,t.$removeTableRowAtIndex=function(e,t){const n=e.getChildren();if(t>=n.length||0>t)throw Error("Expected table cell to be inside of table row.");return n[t].remove(),e},t.INSERT_TABLE_COMMAND=M,t.TableCellHeaderStates=i,t.TableCellNode=s,t.TableNode=S,t.TableRowNode=u,t.TableSelection=p,t.applyTableHandlers=function(e,t,n){const i=n.getRootElement();if(null===i)throw Error("No root element.");const s=new p(n,e.getKey());t.__lexicalTableSelection=s;let a=!1,l=!1;t.addEventListener("dblclick",(e=>{const t=m(e.target);null!==t&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),s.setAnchorCellForSelection(t),s.adjustFocusCellForSelection(t,!0),a=!1)})),t.addEventListener("mousedown",(e=>{setTimeout((()=>{if(0===e.button){var t=m(e.target);null!==t&&(s.setAnchorCellForSelection(t),document.addEventListener("mouseup",(()=>{a=!1}),{capture:!0,once:!0}))}}),0)})),t.addEventListener("mousemove",(e=>{if(l&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),a){const t=m(e.target);if(null!==t){const n=t.x,r=t.y;a&&(s.startX!==n||s.startY!==r||s.isHighlightingCells)&&(e.preventDefault(),a=!0,s.adjustFocusCellForSelection(t))}}})),t.addEventListener("mouseup",(()=>{a&&(a=!1)})),t.addEventListener("mouseleave",(()=>{}));const d=e=>{a=!0,0===e.button&&n.update((()=>{const t=r.$getSelection();if(r.$isGridSelection(t)&&t.gridKey===s.tableNodeKey&&i.contains(e.target))return s.clearHighlight()}))};window.addEventListener("mousedown",d),s.listenersToRemove.add((()=>window.removeEventListener("mousedown",d)));const u=()=>{a=!1};return window.addEventListener("mouseup",u),s.listenersToRemove.add((()=>window.removeEventListener("mouseup",u))),s.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_DOWN_COMMAND,(t=>{var n=r.$getSelection();if(!x(n,e))return!1;if(r.$isRangeSelection(n)){if(n.isCollapsed()){var i=o.$findMatchingParent(n.anchor.getNode(),(e=>c(e)));if(!c(i))return!1;var a=e.getCordsFromCellNode(i,s.grid);if(null==(n=o.$findMatchingParent(n.anchor.getNode(),(e=>r.$isElementNode(e)))))throw Error("Expected BlockNode Parent");if((i=i.getLastChild())&&n.isParentOf(i)||n===i||t.shiftKey)return t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),t.shiftKey?(s.setAnchorCellForSelection(e.getCellFromCordsOrThrow(a.x,a.y,s.grid)),T(s,e,a.x,a.y,"down")):E(s,e,a.x,a.y,"down")}}else if(r.$isGridSelection(n)&&t.shiftKey)return!!c(a=n.focus.getNode())&&(a=e.getCordsFromCellNode(a,s.grid),t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),T(s,e,a.x,a.y,"down"));return!1}),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_UP_COMMAND,(t=>{var n=r.$getSelection();if(!x(n,e))return!1;if(r.$isRangeSelection(n)){if(n.isCollapsed()){var i=o.$findMatchingParent(n.anchor.getNode(),(e=>c(e)));if(!c(i))return!1;var a=e.getCordsFromCellNode(i,s.grid);if(null==(n=o.$findMatchingParent(n.anchor.getNode(),(e=>r.$isElementNode(e)))))throw Error("Expected BlockNode Parent");if((i=i.getLastChild())&&n.isParentOf(i)||n===i||t.shiftKey)return t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),t.shiftKey?(s.setAnchorCellForSelection(e.getCellFromCordsOrThrow(a.x,a.y,s.grid)),T(s,e,a.x,a.y,"up")):E(s,e,a.x,a.y,"up")}}else if(r.$isGridSelection(n)&&t.shiftKey)return!!c(a=n.focus.getNode())&&(a=e.getCordsFromCellNode(a,s.grid),t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),T(s,e,a.x,a.y,"up"));return!1}),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_LEFT_COMMAND,(t=>{var n=r.$getSelection();if(!x(n,e))return!1;if(r.$isRangeSelection(n)){if(n.isCollapsed()){var i=o.$findMatchingParent(n.anchor.getNode(),(e=>c(e)));if(!c(i))return!1;if(i=e.getCordsFromCellNode(i,s.grid),null==o.$findMatchingParent(n.anchor.getNode(),(e=>r.$isElementNode(e))))throw Error("Expected BlockNode Parent");if(0===n.anchor.offset||t.shiftKey)return t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),t.shiftKey?(s.setAnchorCellForSelection(e.getCellFromCordsOrThrow(i.x,i.y,s.grid)),T(s,e,i.x,i.y,"backward")):E(s,e,i.x,i.y,"backward")}}else if(r.$isGridSelection(n)&&t.shiftKey)return!!c(n=n.focus.getNode())&&(n=e.getCordsFromCellNode(n,s.grid),t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),T(s,e,n.x,n.y,"backward"));return!1}),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_RIGHT_COMMAND,(t=>{var n=r.$getSelection();if(!x(n,e))return!1;if(r.$isRangeSelection(n)){if(n.isCollapsed()){var i=o.$findMatchingParent(n.anchor.getNode(),(e=>c(e)));if(!c(i))return!1;if(i=e.getCordsFromCellNode(i,s.grid),null==o.$findMatchingParent(n.anchor.getNode(),(e=>r.$isElementNode(e))))throw Error("Expected BlockNode Parent");if(n.anchor.offset===n.anchor.getNode().getTextContentSize()||t.shiftKey)return t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),t.shiftKey?(s.setAnchorCellForSelection(e.getCellFromCordsOrThrow(i.x,i.y,s.grid)),T(s,e,i.x,i.y,"forward")):E(s,e,i.x,i.y,"forward")}}else if(r.$isGridSelection(n)&&t.shiftKey)return!!c(n=n.focus.getNode())&&(n=e.getCordsFromCellNode(n,s.grid),t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),T(s,e,n.x,n.y,"forward"));return!1}),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.DELETE_CHARACTER_COMMAND,(()=>{const t=r.$getSelection();if(!x(t,e))return!1;if(r.$isGridSelection(t))return s.clearText(),!0;if(r.$isRangeSelection(t)){var n=o.$findMatchingParent(t.anchor.getNode(),(e=>c(e)));if(!c(n))return!1;if(n=o.$findMatchingParent(t.anchor.getNode(),(e=>r.$isParagraphNode(e))),!r.$isParagraphNode(n))return!1;if(t.isCollapsed()&&0===t.anchor.offset&&0===n.getPreviousSiblings().length)return!0}return!1}),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.KEY_BACKSPACE_COMMAND,(t=>{const n=r.$getSelection();return!!x(n,e)&&(r.$isGridSelection(n)?(t.preventDefault(),t.stopPropagation(),s.clearText(),!0):(r.$isRangeSelection(n)&&(t=o.$findMatchingParent(n.anchor.getNode(),(e=>c(e))),c(t)),!1))}),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.FORMAT_TEXT_COMMAND,(t=>{const n=r.$getSelection();return!!x(n,e)&&(r.$isGridSelection(n)?(s.formatCells(t),!0):(r.$isRangeSelection(n)&&(t=o.$findMatchingParent(n.anchor.getNode(),(e=>c(e))),c(t)),!1))}),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.INSERT_TEXT_COMMAND,(()=>{var t=r.$getSelection();return!!x(t,e)&&(r.$isGridSelection(t)?s.clearHighlight():r.$isRangeSelection(t)&&(t=o.$findMatchingParent(t.anchor.getNode(),(e=>c(e))),c(t)),!1)}),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.KEY_TAB_COMMAND,(t=>{var n=r.$getSelection();if(!x(n,e))return!1;if(r.$isRangeSelection(n)){const r=o.$findMatchingParent(n.anchor.getNode(),(e=>c(e)));if(!c(r))return!1;if(n.isCollapsed())return n=e.getCordsFromCellNode(r,s.grid),t.preventDefault(),E(s,e,n.x,n.y,t.shiftKey?"backward":"forward"),!0}return!1}),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.FOCUS_COMMAND,(()=>e.isSelected()),r.COMMAND_PRIORITY_CRITICAL)),s.listenersToRemove.add(n.registerCommand(r.SELECTION_CHANGE_COMMAND,(()=>{const t=r.$getSelection();var n=r.$getPreviousSelection();if(t!==n&&(r.$isGridSelection(t)||r.$isGridSelection(n))&&s.gridSelection!==t)return s.updateTableGridSelection(r.$isGridSelection(t)&&e.isSelected()?t:null),!1;if(t&&r.$isRangeSelection(t)&&!t.isCollapsed()){var o=t.anchor.getNode();if(n=t.focus.getNode(),o=e.isParentOf(o),n=e.isParentOf(n),o&&!n||n&&!o){n=t.isBackward(),o=r.$createRangeSelection();const i=e.getIndexWithinParent(),a=e.getParentOrThrow().getKey();return o.anchor.set(t.anchor.key,t.anchor.offset,t.anchor.type),o.focus.set(a,n?i-1:i+1,"element"),l=!0,r.$setSelection(o),C(s),!0}}return s.hasHijackedSelectionStyles&&!e.isSelected()?(function(e){e.enableHighlightStyle(),N(e.grid,(e=>{const t=e.elem;e.highlighted=!1,t.style.removeProperty("background-color"),t.style.removeProperty("caret-color"),t.getAttribute("style")||t.removeAttribute("style")}))}(s),l=!1):!s.hasHijackedSelectionStyles&&e.isSelected()&&C(s),!1}),r.COMMAND_PRIORITY_CRITICAL)),s},t.getCellFromTarget=m,t.getTableSelectionFromTableElement=function(e){return e.__lexicalTableSelection}},2977:(e,t,n)=>{"use strict";const r=n(8263);e.exports=r},8263:(e,t,n)=>{var r=n(2998);function o(e,t=!0){return!e&&(e=i(),t&&(e=e.trim()),""===e)}function i(){return r.$getRoot().getTextContent()}function s(e){if(!o(e,!1))return!1;const t=(e=r.$getRoot().getChildren()).length;if(1<t)return!1;for(let o=0;o<t;o++){var n=e[o];if(r.$isElementNode(n)){if("paragraph"!==n.__type||0!==n.__indent)return!1;const e=(n=n.getChildren()).length;for(let t=0;t<e;t++)if(!r.$isTextNode(n[o]))return!1}}return!0}t.$canShowPlaceholder=s,t.$canShowPlaceholderCurry=function(e){return()=>s(e)},t.$findNodeWithOffsetFromJoinedText=function(e,t,n,o){const i=(o=o.getChildren()).length;let s=0,a=!1;for(let c=0;c<i&&!(s>t);++c){const t=o[c],i=r.$isTextNode(t);var l=i?t.getTextContent().length:n;if(l=s+l,(!1===a&&s===e||0===s&&s===e||s<e&&e<=l)&&r.$isTextNode(t))return{node:t,offset:e-s};s=l,a=i}return null},t.$findTextIntersectionFromCharacters=function(e,t){var n=e.getFirstChild();e=0;e:for(;null!==n;){if(r.$isElementNode(n)){var o=n.getFirstChild();if(null!==o){n=o;continue}}else if(r.$isTextNode(n)){if(e+(o=n.getTextContentSize())>t)return{node:n,offset:t-e};e+=o}if(null===(o=n.getNextSibling())){for(n=n.getParent();null!==n;){if(null!==(o=n.getNextSibling())){n=o;continue e}n=n.getParent()}break}n=o}return null},t.$isRootTextContentEmpty=o,t.$isRootTextContentEmptyCurry=function(e,t){return()=>o(e,t)},t.$joinTextNodesInElementNode=function(e,t,n){let o="";const i=(e=e.getChildren()).length;for(let s=0;s<i;++s){const i=e[s];if(r.$isTextNode(i)){const e=i.getTextContent();if(i.is(n.node)){if(n.offset>e.length)throw Error("Minified Lexical error #50; see codes.json for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");o+=i.getTextContent().substr(0,n.offset);break}o+=e}else o+=t}return o},t.$rootTextContentCurry=i,t.registerLexicalTextEntity=function(e,t,n,o){const i=e=>{const t=r.$createTextNode(e.getTextContent());t.setFormat(e.getFormat()),e.replace(t)};return[e.registerNodeTransform(r.TextNode,(e=>{if(e.isSimpleText()){var s=e.getPreviousSibling(),a=e.getTextContent(),l=e;if(r.$isTextNode(s)){var c=s.getTextContent(),d=t(c+a);if(s instanceof n){if(null===d||0!==s.getLatest().__mode)return void i(s);if(0<(d=d.end-c.length))return l=c+(l=a.slice(0,d)),s.select(),s.setTextContent(l),void(d===a.length?e.remove():(s=a.slice(d),e.setTextContent(s)))}else if(null===d||d.start<c.length)return}for(;;){if(a=d=null===(e=t(a))?"":a.slice(e.end),""===d){if(c=l.getNextSibling(),r.$isTextNode(c)){if(d=l.getTextContent()+c.getTextContent(),null===(d=t(d))){c instanceof n?i(c):c.markDirty();break}if(0!==d.start)break}}else if(null!==(c=t(d))&&0===c.start)break;if(null===e)break;if(0===e.start&&r.$isTextNode(s)&&s.isTextEntity())continue;let u;if(0===e.start?[u,l]=l.splitText(e.end):[,u,l]=l.splitText(e.start,e.end),e=o(u),u.replace(e),null==l)break}}})),e=e.registerNodeTransform(n,(e=>{var o=e.getTextContent();const s=t(o);null===s||0!==s.start?i(e):o.length>s.end?e.splitText(s.end):(o=e.getPreviousSibling(),r.$isTextNode(o)&&o.isTextEntity()&&(i(o),i(e)),o=e.getNextSibling(),r.$isTextNode(o)&&o.isTextEntity()&&(i(o),e instanceof n&&i(e)))}))]}},6969:(e,t,n)=>{"use strict";const r=n(7502);e.exports=r},7502:(e,t,n)=>{var r=n(2998);function o(e,t){for(;e!==r.$getRoot()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}t.$dfs=function(e,t){const n=[];e=(e||r.$getRoot()).getLatest(),t=t||(r.$isElementNode(e)?e.getLastDescendant():e);for(var o=e,i=0;null!==(o=o.getParent());)i++;for(o=i;null!==e&&!e.is(t);)if(n.push({depth:o,node:e}),r.$isElementNode(e)&&0<e.getChildrenSize())e=e.getFirstChild(),o++;else for(i=null;null===i&&null!==e;)null===(i=e.getNextSibling())?(e=e.getParent(),o--):e=i;return null!==e&&e.is(t)&&n.push({depth:o,node:e}),n},t.$findMatchingParent=o,t.$getNearestBlockElementAncestorOrThrow=function(e){const t=o(e,(e=>r.$isElementNode(e)&&!e.isInline()));if(!r.$isElementNode(t))throw Error(`Expected node ${e.__key} to have closest block element node.`);return t},t.$getNearestNodeOfType=function(e,t){for(;null!=e&&!(e instanceof t);)e=e.getParent();return e},t.addClassNamesToElement=function(e,...t){t.forEach((t=>{null!=t&&"string"==typeof t&&e.classList.add(...t.split(" "))}))},t.mergeRegister=function(...e){return()=>{e.forEach((e=>e()))}},t.removeClassNamesFromElement=function(e,...t){t.forEach((t=>{e.classList.remove(...t.split(" "))}))}},3843:(e,t)=>{"use strict";var n=()=>window.getSelection();const r="\n\n",o="֑-߿יִ-﷽ﹰ-ﻼ",i="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",s=new RegExp("^[^"+i+"]*["+o+"]"),a=new RegExp("^[^"+o+"]*["+i+"]"),l={bold:1,code:16,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},c={center:2,justify:4,left:1,right:3},d={inert:3,normal:0,segmented:2,token:1},u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,g=u&&"documentMode"in document?document.documentMode:null,f=u&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),h=u&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),p=!(!u||!("InputEvent"in window)||g)&&"getTargetRanges"in new window.InputEvent("input"),m=u&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),_=u&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;let y=0;function N(){return""+y++}const C="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function E(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&function(e){const t=document.activeElement,n=null!==t?t.nodeName:null;return!$n(P(e))||"INPUT"!==n&&"TEXTAREA"!==n}(t)&&T(t)===e}catch(e){return!1}}function T(e){let t=e;for(;null!=t;){const e=t.__lexicalEditor;if(null!=e&&!e.isReadOnly())return e;t=t.parentNode}return null}function x(e){return v(e)||e.isSegmented()}function v(e){return e.isToken()||e.isInert()}function S(e){let t=e;for(;null!=t;){if(3===t.nodeType)return t;t=t.firstChild}return null}function b(e,t,n){const r=l[t];return e&r&&(null===n||0==(n&r))?e^r:null===n||n&r?e|r:e}function O(e){return rr(e)||Gn(e)||$n(e)}function w(e){const t=e.getParent();if(null!==t){const n=t.getWritable().__children,r=n.indexOf(e.__key);if(-1===r)throw Error("Node is not a child of its parent");A(e),n.splice(r,1)}}function k(e){It();const t=e.getLatest(),n=t.__parent,r=Lt(),o=Ft(),i=r._nodeMap,s=o._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,i,s);const a=t.__key;o._dirtyType=1,Pn(e)?s.set(a,!0):o._dirtyLeaves.add(a)}function A(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&k(t),null!==n&&k(n)}function M(e){Pt();const t=Ft(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=$(n);null!==e&&e.getWritable()}if(null!==e){const t=$(e);null!==t&&t.getWritable()}}}function R(){return Ft()._compositionKey}function $(e,t){const n=(t||Lt())._nodeMap.get(e);return void 0===n?null:n}function D(e,t){const n=e["__lexicalKey_"+Ft()._key];return void 0!==n?$(n,t):null}function P(e,t){let n=e;for(;null!=n;){const e=D(n,t);if(null!==e)return e;n=n.parentNode}return null}function I(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function L(e){return e.read((e=>F().getTextContent()))}function F(){return B(Lt())}function B(e){return e._nodeMap.get("root")}function K(e){const t=Lt();null!==e&&Object.isFrozen(e)&&console.warn("$setSelection called on frozen selection object. Ensure selection is cloned before passing in."),t._selection=e}function z(e){const t=Ft(),n=function(e,t){let n=e;for(;null!=n;){const e=n["__lexicalKey_"+t._key];if(void 0!==e)return e;n=n.parentNode}return null}(e,t);return null===n?e===t.getRootElement()?$("root"):null:$(n)}function W(e,t){return t?e.getTextContentSize():0}function G(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function H(e,t){const r=n();if(null===r)return;const o=r.anchorNode;let{anchorOffset:i,focusOffset:s}=r;if(null!==o&&3===o.nodeType){const e=P(o);if(rr(e)){let n=o.nodeValue;const r=null!==t&&t.data;if("​"===n&&r){const e=r.length;n=r,i=e,s=e}U(e,n,i,s,null!==t)}}}function U(e,t,n,r,o){let i=e;if(i.isAttached()&&(o||!i.isDirty())){const e=i.isComposing();let s=t;(e||o)&&"​"===t[t.length-1]&&(s=t.slice(0,-1));const a=i.getTextContent();if(o||s!==a){if(""===s){if(M(null),m||_)i.remove();else{const e=Ft();setTimeout((()=>{e.update((()=>{i.isAttached()&&i.remove()}))}),20)}return}const t=i.getParent(),o=vn();if(v(i)||null!==R()&&!e||null!==t&&dn(o)&&!t.canInsertTextBefore()&&0===o.anchor.offset)return void i.markDirty();const a=xn();if(!dn(a)||null===n||null===r)return void i.setTextContent(s);if(a.setTextNodeRange(i,n,i,r),i.isSegmented()){const e=nr(i.getTextContent());i.replace(e),i=e}i.setTextContent(s)}}}function Y(e,t,r){const o=e.anchor,i=e.focus,s=o.getNode(),a=n(),l=null!==a?a.anchorNode:null,c=o.key,d=Ft().getElementByKey(c);return c!==i.key||!rr(s)||o.offset!==i.offset&&!s.isComposing()||(r||s.isDirty())&&t.length>1||null!==d&&!s.isComposing()&&l!==S(d)||s.getFormat()!==e.format||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),o=t.isToken(),i=0===n&&(!t.canInsertTextBefore()||!r.canInsertTextBefore()||o),s=t.getTextContentSize()===n&&(!t.canInsertTextBefore()||!r.canInsertTextBefore()||o);return i||s}(e,s)}function j(e,t){return f?e:t}function V(e){return 13===e}function X(e){return 8===e}function q(e){return 46===e}function Z(e,t){const n=e[t];if("string"==typeof n){const r=n.split(" ");return e[t]=r,r}return n}function Q(e,t,n,r,o){if(0===n.size)return;const i=r.__type,s=r.__key,a=t.get(i);if(void 0===a)throw Error(`Type ${i} not in registeredNodes`);const l=a.klass;let c=e.get(l);void 0===c&&(c=new Map,e.set(l,c)),c.has(s)||c.set(s,o)}function J(e,t,n){const r=e.getParent();let o=n,i=e;return null!==r&&(t&&0===n?(o=i.getIndexWithinParent(),i=r):t||n!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(t?o-1:o)}function ee(e,t){const n=e.offset;if("element"===e.type)return J(e.getNode(),t,n);{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?J(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function te(){const e=window.event,t=e&&e.inputType;return"insertFromPaste"===t||"insertFromPasteAsQuotation"===t}function ne(e,t,n){return Ht(e,t,n)}function re(e){return!Ln(e)&&!e.isLastChild()&&!e.isInline()}function oe(e,t,n,r,o){const i=e.__children,s=i.length;for(let e=0;e<s;e++){const s=i[e],a=r.get(s);void 0!==a&&a.__parent===t&&(Pn(a)&&oe(a,s,n,r,o),n.has(s)||o.delete(s),r.delete(s))}}function ie(e,t){const n=e.__mode,r=e.__format,o=e.__style,i=t.__mode,s=t.__format,a=t.__style;return!(null!==n&&n!==i||null!==r&&r!==s||null!==o&&o!==a)}function se(e,t){const n=e.mergeWithSibling(t),r=Ft()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function ae(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&rr(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(ie(t,r)){r=se(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&rr(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(ie(r,n)){r=se(r,n);break}break}n.remove()}}else r.remove()}function le(e,t,n,r,o={originalSelection:null}){const i=e.__type,s=n._nodes.get(i);if(void 0===s)throw Error(`createNodeFromParse: type "${i}" + not found`);for(const t in e){const r=e[t];if(null!=r&&"object"==typeof r){const o=r.editorState;if(null!=o){const r=lr();r._nodes=n._nodes,r._parentEditor=n._parentEditor,r._pendingEditorState=zt(o,r),e[t]=r}}}const a=s.klass,l=e.__key;e.__key=void 0;const c=a.clone(e);e.__key=l;const d=c.__key;if(Ln(c)&&Lt()._nodeMap.set("root",c),c.__parent=r,Pn(c)){const r=e.__children;for(let e=0;e<r.length;e++){const i=r[e],s=t.get(i);if(void 0!==s){const e=le(s,t,n,d,o).__key;c.__children.push(e)}}c.__indent=e.__indent,c.__format=e.__format,c.__dir=e.__dir}else rr(c)&&(c.__format=e.__format,c.__style=e.__style,c.__mode=e.__mode,c.__detail=e.__detail,c.__marks=e.__marks);const u=null!=o?o.originalSelection:void 0;if(null!=u){let e=o.remappedSelection;if("range"===u.type){const t=u.anchor,n=u.focus;null!=e||l!==t.key&&l!==n.key||(o.remappedSelection=e={anchor:{...t},focus:{...n},type:"range"}),null!=e&&"range"===e.type&&(l===t.key&&(e.anchor.key=d),l===n.key&&(e.focus.key=d))}else if("node"===u.type){const t=u.nodes,n=t.indexOf(l);-1!==n&&(null==e&&(o.remappedSelection=e={nodes:[...t],type:"node"}),"node"===e.type&&e.nodes.splice(n,1,d))}else if("grid"===u.type){const t=u.gridKey,n=u.anchor.key,r=u.focus.key;null!=e||t!==l&&t!==n&&t!==r||(o.remappedSelection=e={...u,type:"grid"}),null!=e&&"grid"===e.type&&(t===l&&(e.gridKey=d),n===l&&(e.anchor.key=d),r===l&&(e.focus.key=d))}}return c}const ce={},de={},ue={},ge={},fe={},he={},pe={},me={},_e={},ye={},Ne={},Ce={},Ee={},Te={},xe={},ve={},Se={},be={},Oe={},we={},ke={},Ae={},Me={},Re={},$e={},De={},Pe={},Ie={},Le={},Fe={},Be=Object.freeze({}),Ke=[["keydown",function(e,t){if(ze=e.timeStamp,t.isComposing())return;const{keyCode:n,shiftKey:r,ctrlKey:o,metaKey:i,altKey:s}=e;!function(e,t,n,r,o){return function(e){return 39===e}(e)&&!t&&!o&&!r}(n,o,0,s,i)?function(e,t,n,r,o){return function(e){return 37===e}(e)&&!t&&!o&&!r}(n,o,0,s,i)?ne(t,xe,e):function(e,t,n,r,o){return function(e){return 38===e}(e)&&!t&&!o}(n,o,0,0,i)?ne(t,ve,e):function(e,t,n,r,o){return function(e){return 40===e}(e)&&!t&&!o}(n,o,0,0,i)?ne(t,Se,e):function(e,t){return V(e)&&t}(n,r)?(He=!0,ne(t,be,e)):function(e,t){return f&&t&&79===e}(n,o)?(e.preventDefault(),He=!0,ne(t,ge,!0)):function(e,t){return V(e)&&!t}(n,r)?(He=!1,ne(t,be,e)):function(e,t,n,r){return f?!t&&!n&&(X(e)||72===e&&r):!(r||t||n)&&X(e)}(n,s,i,o)?X(n)?ne(t,Oe,e):(e.preventDefault(),ne(t,ue,!0)):function(e){return 27===e}(n)?ne(t,we,e):function(e,t,n,r,o){return f?!(n||r||o)&&(q(e)||68===e&&t):!(t||r||o)&&q(e)}(n,o,r,s,i)?q(n)?ne(t,ke,e):(e.preventDefault(),ne(t,ue,!1)):function(e,t,n){return X(e)&&(f?t:n)}(n,s,o)?(e.preventDefault(),ne(t,_e,!0)):function(e,t,n){return q(e)&&(f?t:n)}(n,s,o)?(e.preventDefault(),ne(t,_e,!1)):function(e,t){return f&&t&&X(e)}(n,i)?(e.preventDefault(),ne(t,ye,!0)):function(e,t){return f&&t&&q(e)}(n,i)?(e.preventDefault(),ne(t,ye,!1)):function(e,t,n,r){return 66===e&&!t&&j(n,r)}(n,s,i,o)?(e.preventDefault(),ne(t,Ne,"bold")):function(e,t,n,r){return 85===e&&!t&&j(n,r)}(n,s,i,o)?(e.preventDefault(),ne(t,Ne,"underline")):function(e,t,n,r){return 73===e&&!t&&j(n,r)}(n,s,i,o)?(e.preventDefault(),ne(t,Ne,"italic")):function(e,t,n,r){return 9===e&&!t&&!n&&!r}(n,s,o,i)?ne(t,Ae,e):function(e,t,n,r){return 90===e&&!t&&j(n,r)}(n,r,i,o)?(e.preventDefault(),ne(t,Ce)):function(e,t,n,r){return f?90===e&&n&&t:89===e&&r||90===e&&r&&t}(n,r,i,o)&&(e.preventDefault(),ne(t,Ee)):ne(t,Te,e),function(e,t,n,r){return e||t||n||r}(o,r,s,i)&&ne(t,Fe,e)}],["compositionstart",function(e,t){jt(t,(()=>{const n=xn();if(dn(n)&&!t.isComposing()){const r=n.anchor;M(r.key),(e.timeStamp<ze+30||h&&"element"===r.type||!n.isCollapsed()||n.anchor.getNode().getFormat()!==n.format)&&ne(t,he," ")}}))}],["compositionend",function(e,t){jt(t,(()=>{const n=t._compositionKey;M(null);const r=e.data;if(null!==n&&null!=r){if(""===r){const e=$(n),r=S(t.getElementByKey(n));return void(null!==r&&rr(e)&&U(e,r.nodeValue,null,null,!0))}if("\n"===r[r.length-1]){const e=xn();if(dn(e)){const n=e.focus;return e.anchor.set(n.key,n.offset,n.type),void ne(t,be,null)}}}H(0,e)}))}],["input",function(e,t){e.stopPropagation(),jt(t,(()=>{const n=xn(),r=e.data;null!=r&&dn(n)&&Y(n,r,!1)?(ne(t,he,r),null!==t._compositionKey&&(ze=0,M(null))):H(0,null),Pt(),en(Ft())}))}],["click",function(e,t){jt(t,(()=>{const r=xn();if(dn(r)){const e=r.anchor;if("element"===e.type&&0===e.offset&&r.isCollapsed()&&1===F().getChildrenSize()&&e.getNode().getTopLevelElementOrThrow().isEmpty()){const e=vn();null!==e&&r.is(e)&&(n().removeAllRanges(),r.dirty=!0)}}ne(t,de,e)}))}],["cut",Be],["copy",Be],["dragstart",Be],["paste",Be],["focus",Be],["blur",Be]];p?Ke.push(["beforeinput",function(e,t){const n=e.inputType;if(!("deleteCompositionText"===n||h&&te()))if("insertCompositionText"!==n)jt(t,(()=>{const o=xn();if("deleteContentBackward"===n){if(null===o){const e=vn();if(!dn(e))return;K(e.clone())}return M(null),e.preventDefault(),ze=0,ne(t,ue,!0),void setTimeout((()=>{t.update((()=>{M(null)}))}),30)}if(!dn(o))return;const i=e.data;o.dirty||!o.isCollapsed()||Ln(o.anchor.getNode())||function(e,t){if(t.getTargetRanges){const n=t.getTargetRanges()[0];n&&e.applyDOMRange(n)}}(o,e);const s=o.anchor,a=o.focus,l=s.getNode(),c=a.getNode();if("insertText"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":ne(t,he,e);break;case"insertFromComposition":M(null),ne(t,he,e);break;case"insertLineBreak":M(null),ne(t,ge);break;case"insertParagraph":M(null),He?(He=!1,ne(t,ge)):ne(t,fe);break;case"insertFromPaste":case"insertFromPasteAsQuotation":ne(t,pe,e);break;case"deleteByComposition":(function(e,t){return e!==t||Pn(e)||Pn(t)||!v(e)||!v(t)})(l,c)&&ne(t,me);break;case"deleteByDrag":case"deleteByCut":ne(t,me);break;case"deleteContent":ne(t,ue,!1);break;case"deleteWordBackward":ne(t,_e,!0);break;case"deleteWordForward":ne(t,_e,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":ne(t,ye,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":ne(t,ye,!1);break;case"formatStrikeThrough":ne(t,Ne,"strikethrough");break;case"formatBold":ne(t,Ne,"bold");break;case"formatItalic":ne(t,Ne,"italic");break;case"formatUnderline":ne(t,Ne,"underline");break;case"historyUndo":ne(t,Ce);break;case"historyRedo":ne(t,Ee)}else if("\n"===i)e.preventDefault(),ne(t,ge);else if(i===r)e.preventDefault(),ne(t,fe);else if(null==i&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),o.insertRawText(t)}else null!=i&&Y(o,i,!0)&&(e.preventDefault(),ne(t,he,i))}));else{const n=e.data;n&&jt(t,(()=>{const e=xn();if(dn(e)){const r=e.anchor,o=r.getNode(),i=o.getPreviousSibling();if(0===r.offset&&rr(o)&&rr(i)&&" "===o.getTextContent()&&i.getFormat()!==e.format){const e=i.getTextContent();if(0===n.indexOf(e)){const r=n.slice(e.length);ne(t,he,r),setTimeout((()=>{jt(t,(()=>{o.select()}))}),30)}}}}))}}]):Ke.push(["drop",Be]);let ze=0,We=0,Ge=!1,He=!1,Ue=[0,0,"root",0];function Ye(e,t){return null!==e&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function je(e,t,n){if(Ge){Ge=!1;const{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:o}=e;if(Ye(t,n)&&Ye(r,o))return}jt(t,(()=>{if(!n)return void K(null);const r=xn();if(dn(r)){const t=r.anchor,n=t.getNode();if(r.isCollapsed()){"Range"===e.type&&(r.dirty=!0);const o=window.event.timeStamp,[i,s,a,l]=Ue;o<l+200&&t.offset===s&&t.key===a?r.format=i:"text"===t.type?r.format=n.getFormat():"element"===t.type&&(r.format=0)}else{const e=r.focus,o=e.getNode();let i=0;"text"===t.type&&(i|=n.getFormat()),"text"!==e.type||n.is(o)||(i|=o.getFormat()),r.format=i}}ne(t,ce)}))}function Ve(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}const Xe=new Map;function qe(e){const t=n(),r=T(t.anchorNode);if(null===r)return;const o=G(r),i=o[o.length-1],s=i._key,a=Xe.get(s),l=a||i;l!==r&&je(t,l,!1),je(t,r,!0),r!==i?Xe.set(s,r):a&&Xe.delete(s)}let Ze,Qe,Je,et,tt,nt,rt,ot,it,st,at="",lt="",ct="",dt=!1,ut=!1,gt=null;function ft(e,t){const n=rt.get(e);if(null!==t){const n=Ot(e);t.removeChild(n)}if(ot.has(e)||Qe._keyToDOMMap.delete(e),Pn(n)){const e=n.__children;ht(e,0,e.length-1,null)}void 0!==n&&Q(st,Je,et,n,"destroyed")}function ht(e,t,n,r){let o=t;for(;o<=n;++o){const t=e[o];void 0!==t&&ft(t,r)}}function pt(e,t){e.setProperty("text-align",t)}function mt(e,t){e.style.setProperty("padding-inline-start",0===t?"":20*t+"px")}function _t(e,t){const n=e.style;0===t?pt(n,""):1===t?pt(n,"left"):2===t?pt(n,"center"):3===t?pt(n,"right"):4===t&&pt(n,"justify")}function yt(e,t,n){const o=ot.get(e);if(void 0===o)throw Error("createNode: node does not exist in nodeMap");const i=o.createDOM(Ze,Qe);if(function(e,t,n){const r=n._keyToDOMMap;t["__lexicalKey_"+n._key]=e,r.set(e,t)}(e,i,Qe),rr(o)?i.setAttribute("data-lexical-text","true"):$n(o)&&i.setAttribute("data-lexical-decorator","true"),Pn(o)){const e=o.__indent;0!==e&&mt(i,e);const t=o.__children,n=t.length;0!==n&&function(e,t,n,r){const o=lt;lt="",Nt(e,0,t,r,null),Tt(n,r),lt=o}(t,n-1,o,i);const s=o.__format;0!==s&&_t(i,s),Et(null,t,i),re(o)&&(at+=r,ct+=r)}else{const t=o.getTextContent();if($n(o)){const t=o.decorate(Qe);null!==t&&vt(e,t),i.contentEditable="false"}else if(rr(o)&&(o.isDirectionless()||(lt+=t),o.isInert())){const e=i.style;e.pointerEvents="none",e.userSelect="none",i.contentEditable="false",e.setProperty("-webkit-user-select","none")}at+=t,ct+=t}if(null!==t)if(null!=n)t.insertBefore(i,n);else{const e=t.__lexicalLineBreak;null!=e?t.insertBefore(i,e):t.appendChild(i)}return Object.freeze(o),Q(st,Je,et,o,"created"),i}function Nt(e,t,n,r,o){const i=at;at="";let s=t;for(;s<=n;++s)yt(e[s],r,o);r.__lexicalTextContent=at,at=i+at}function Ct(e,t){const n=e[e.length-1],r=t.get(n);return Gn(r)||$n(r)}function Et(e,t,n){const r=null!==e&&(0===e.length||Ct(e,rt)),o=null!==t&&(0===t.length||Ct(t,ot));if(r){if(!o){const e=n.__lexicalLineBreak;null!=e&&n.removeChild(e),n.__lexicalLineBreak=null}}else if(o){const e=document.createElement("br");n.__lexicalLineBreak=e,n.appendChild(e)}}function Tt(e,t){const n=t.__lexicalDirTextContent,r=t.__lexicalDir;if(n!==lt||r!==gt){const n=""===lt,i=n?gt:(o=lt,s.test(o)?"rtl":a.test(o)?"ltr":null);if(i!==r){const o=t.classList,s=Ze.theme;let a=null!==r?s[r]:void 0,l=null!==i?s[i]:void 0;if(void 0!==a){if("string"==typeof a){const e=a.split(" ");a=s[r]=e}o.remove(...a)}if(null===i||n&&"ltr"===i)t.removeAttribute("dir");else{if(void 0!==l){if("string"==typeof l){const e=l.split(" ");l=s[i]=e}o.add(...l)}t.dir=i}ut||(e.getWritable().__dir=i)}gt=i,t.__lexicalDirTextContent=lt,t.__lexicalDir=i}var o}function xt(e,t){const n=rt.get(e);let o=ot.get(e);if(void 0===n||void 0===o)throw Error("reconcileNode: prevNode or nextNode does not exist in nodeMap");const i=dt||nt.has(e)||tt.has(e),s=wt(Qe,e);if(n===o&&!i){if(Pn(n)){const e=s.__lexicalTextContent;void 0!==e&&(at+=e,ct+=e);const t=s.__lexicalDirTextContent;void 0!==t&&(lt+=t)}else{const e=n.getTextContent();rr(n)&&!n.isDirectionless()&&(lt+=e),ct+=e,at+=e}return s}if(n!==o&&i&&Q(st,Je,et,o,"updated"),o.updateDOM(n,s,Ze)){const n=yt(e,null,null);if(null===t)throw Error("reconcileNode: parentDOM is null");return t.replaceChild(n,s),ft(e,null),n}if(Pn(n)&&Pn(o)){const e=o.__indent;e!==n.__indent&&mt(s,e);const t=o.__format;t!==n.__format&&_t(s,t);const a=n.__children,l=o.__children;(a!==l||i)&&(function(e,t,n,o){const i=lt;lt="",function(e,t,n,o){const i=at;at="";const s=t.length,a=n.length;if(1===s&&1===a){const e=t[0],r=n[0];if(e===r)xt(e,o);else{const t=Ot(e),n=yt(r,null,null);o.replaceChild(n,t),ft(e,null)}}else if(0===s)0!==a&&Nt(n,0,a-1,o,null);else if(0===a){if(0!==s){const e=null==o.__lexicalLineBreak;ht(t,0,s-1,e?null:o),e&&(o.textContent="")}}else!function(e,t,n,r,o,i){const s=n-1,a=r-1;let l,c,d=function(e){return e.firstChild}(i),u=0,g=0;for(;u<=s&&g<=a;){const n=e[u],r=t[g];if(n===r)d=St(xt(r,i)),u++,g++;else{void 0===l&&(l=new Set(e)),void 0===c&&(c=new Set(t));const o=c.has(n),s=l.has(r);if(o)if(s){const e=wt(Qe,r);e===d?d=St(xt(r,i)):(null!=d?i.insertBefore(e,d):i.appendChild(e),xt(r,i)),u++,g++}else yt(r,i,d),g++;else d=St(Ot(n)),ft(n,i),u++}}const f=u>s,h=g>a;if(f&&!h){const e=t[a+1];Nt(t,g,a,i,void 0===e?null:Qe.getElementByKey(e))}else h&&!f&&ht(e,u,s,i)}(t,n,s,a,0,o);re(e)&&(at+=r),o.__lexicalTextContent=at,at=i+at}(n,e,t,o),Tt(n,o),lt=i}(a,l,o,s),Ln(o)||Et(a,l,s)),re(o)&&(at+=r,ct+=r)}else{const t=o.getTextContent();if($n(o)){const n=o.decorate(Qe);null!==n&&vt(e,n),at+=t,ct+=t}else rr(o)&&!o.isDirectionless()&&(lt+=t);at+=t,ct+=t}return!ut&&Ln(o)&&o.__cachedText!==ct&&(o=o.getWritable(),o.__cachedText=ct),Object.freeze(o),s}function vt(e,t){let n=Qe._pendingDecorators;const r=Qe._decorators;if(null===n){if(r[e]===t)return;n=I(Qe)}n[e]=t}function St(e){return e.nextSibling}function bt(e,t,r,o,i,s,a){const l=a._observer;let c=null;if(s&&null!==l){const n=a._dirtyType,o=a._dirtyElements,i=a._dirtyLeaves;l.disconnect();try{c=function(e,t,n,r,o,i){at="",ct="",lt="",dt=2===r,gt=null,Qe=n,Ze=n._config,Je=n._nodes,et=Qe._listeners.mutation,tt=o,nt=i,rt=e._nodeMap,ot=t._nodeMap,ut=t._readOnly,it=new Map(n._keyToDOMMap);const s=new Map;return st=s,xt("root",null),Qe=void 0,Je=void 0,tt=void 0,nt=void 0,rt=void 0,ot=void 0,Ze=void 0,it=void 0,st=void 0,s}(t,r,a,n,o,i)}finally{l.observe(e,{characterData:!0,childList:!0,subtree:!0})}}const d=n();return a._readOnly||null===d||!s&&null!==i&&!i.dirty||function(e,t,n,r){const o=r.anchorNode,i=r.focusNode,s=r.anchorOffset,a=r.focusOffset,l=document.activeElement,c=n._rootElement;if(n._updateTags.has("collaboration")&&l!==c)return;if(!dn(t))return void(null!==e&&E(n,o,i)&&r.removeAllRanges());const d=t.anchor,u=t.focus;Object.freeze(d),Object.freeze(u),Object.freeze(t);const g=d.key,f=u.key,h=wt(n,g),p=wt(n,f),y=d.offset,N=u.offset,C=t.format,T=t.isCollapsed();let x=h,v=p,b=!1;var O,w,k,A;if(("text"===d.type&&(x=S(h),b=d.getNode().getFormat()!==C),"text"===u.type&&(v=S(p)),null!==x&&null!==v)&&(T&&(null===e||b||e.format!==C)&&(O=C,w=y,k=g,A=performance.now(),Ue=[O,w,k,A]),s!==y||a!==N||o!==x||i!==v||"Range"===r.type&&T||(null===c||null!==l&&c.contains(l)||c.focus({preventScroll:!0}),(_||m)&&"element"===d.type)))try{r.setBaseAndExtent(x,y,v,N),t.isCollapsed()&&c===l&&function(e,t,n){const r=3===t.nodeType?t.parentNode:t;if(null!==r){const t=r.getBoundingClientRect();if(t.bottom>window.innerHeight)r.scrollIntoView(!1);else if(t.top<0)r.scrollIntoView();else if(n){const e=n.getBoundingClientRect();t.bottom>e.bottom?r.scrollIntoView(!1):t.top<e.top&&r.scrollIntoView()}e._updateTags.add("scroll-into-view")}}(n,x,c),Ge=!0}catch(e){}}(o,i,a,d),c}function Ot(e){const t=it.get(e);if(void 0===t)throw Error(`Reconciliation: could not find DOM element for node key "${e}"`);return t}function wt(e,t){const n=e._keyToDOMMap.get(t);if(void 0===n)throw Error(`Reconciliation: could not find DOM element for node key "${t}"`);return n}let kt=null,At=null,Mt=!1,Rt=!1,$t=0;function Dt(){return Mt}function Pt(){if(Mt)throw Error("Cannot use method in read-only mode.")}function It(){if($t>99)throw Error("One or more transforms are endlessly triggering additional transforms. May have encountered infinite recursion caused by transforms that have their preconditions too lose and/or conflict with each other.")}function Lt(){if(null===kt)throw Error("Unable to find an active editor state. State helpers or node methods can only be used synchronously during the callback of editor.update() or editorState.read().");return kt}function Ft(){if(null===At)throw Error("Unable to find an active editor. This method can only be used synchronously during the callback of editor.update().");return At}function Bt(e,t,n){const r=t.__type,o=function(e,t){const n=e._nodes.get(t);if(void 0===n)throw Error(`registeredNode: Type ${t} not found`);return n}(e,r);let i=n.get(r);void 0===i&&(i=Array.from(o.transforms),n.set(r,i));const s=i.length;for(let e=0;e<s&&(i[e](t),t.isAttached());e++);}function Kt(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function zt(e,t){const n=new Map,r=new Bn(n),o={originalSelection:e._selection},i=kt,s=Mt,a=At;kt=r,Mt=!1,At=t;try{const n=new Map(e._nodeMap);le(n.get("root"),n,t,null,o)}finally{kt=i,Mt=s,At=a}return r._selection=function(e){if(null!==e){if("range"===e.type)return new fn(rn(e.anchor.key,e.anchor.offset,e.anchor.type),rn(e.focus.key,e.focus.offset,e.focus.type),0);if("node"===e.type)return new cn(new Set(e.nodes));if("grid"===e.type)return new un(e.gridKey,rn(e.anchor.key,e.anchor.offset,e.anchor.type),rn(e.focus.key,e.focus.offset,e.focus.type))}return null}(o.remappedSelection||o.originalSelection),r}function Wt(e){const t=e._pendingEditorState,n=e._rootElement;if(null===n||null===t)return;const r=e._editorState,o=r._selection,i=t._selection,s=0!==e._dirtyType;e._pendingEditorState=null,e._editorState=t;const a=kt,l=Mt,c=At,d=e._updating;At=e,kt=t,Mt=!1,e._updating=!0;try{const u=bt(n,r,t,o,i,s,e);null!==u&&function(e,t,n,r){e._listeners.mutation.forEach(((e,t)=>{const n=r.get(e);void 0!==n&&t(n)}))}(e,0,0,u)}catch(r){return e._onError(r),void(Rt||(ar(e,null,n,t),tn(e),e._dirtyType=2,Rt=!0,Wt(e),Rt=!1))}finally{e._updating=d,kt=a,Mt=l,At=c}t._readOnly=!0,function(e){const t=e._nodeMap;t.set=()=>{throw new Error("Cannot call set() on a frozen Lexical node map")},t.clear=()=>{throw new Error("Cannot call clear() on a frozen Lexical node map")},t.delete=()=>{throw new Error("Cannot call delete() on a frozen Lexical node map")}}(t);const u=e._dirtyLeaves,g=e._dirtyElements,f=e._normalizedNodes,h=e._updateTags;s&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const o=t._nodeMap;let i;for(i in r)o.has(i)||(r===n&&(r=I(e)),delete r[i])}(e,t);const p=e._pendingDecorators;null!==p&&(e._decorators=p,e._pendingDecorators=null,Gt("decorator",e,!0,p)),function(e,t,n){const r=L(t),o=L(n);r!==o&&Gt("textcontent",e,!0,o)}(e,r,t),Gt("update",e,!0,{dirtyElements:g,dirtyLeaves:u,editorState:t,normalizedNodes:f,prevEditorState:r,tags:h}),function(e){const t=e._deferred;if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e),function(e){const t=e._updates;if(0!==t.length){const[n,r]=t.shift();Yt(e,n,r)}}(e)}function Gt(e,t,n,...r){const o=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(let e=0;e<n.length;e++)n[e](...r)}finally{t._updating=o}}function Ht(e,t,n){if(!1===e._updating||At!==e){let r=!1;return e.update((()=>{r=Ht(e,t,n)})),r}const r=G(e);for(let o=4;o>=0;o--)for(let i=0;i<r.length;i++){const s=r[i]._commands.get(t);if(void 0!==s){const t=s[o];if(void 0!==t)for(const r of t)if(!0===r(n,e))return!0}}return!1}function Ut(e,t){const n=e._updates;let r=t||!1;for(;0!==n.length;){const[t,o]=n.shift();let i,s;void 0!==o&&(i=o.onUpdate,s=o.tag,o.skipTransforms&&(r=!0),i&&e._deferred.push(i),s&&e._updateTags.add(s)),t()}return r}function Yt(e,t,r){const o=e._updateTags;let i,s,a=!1;void 0!==r&&(i=r.onUpdate,s=r.tag,null!=s&&o.add(s),a=r.skipTransforms),i&&e._deferred.push(i);const l=e._editorState;let c=e._pendingEditorState,d=!1;null===c&&(c=e._pendingEditorState=new Bn(new Map(l._nodeMap)),d=!0);const u=kt,g=Mt,f=At,h=e._updating;kt=c,Mt=!1,e._updating=!0,At=e;try{d&&(c._selection=function(e){const t=e.getEditorState()._selection,r=n();return hn(t)||gn(t)?t.clone():function(e,t,n){const r=function(){const e=window.event;return e&&e.type}(),o=!Vt&&("selectionchange"===r||"beforeinput"===r||"compositionstart"===r||"compositionend"===r||"click"===r&&3===window.event.detail||void 0===r);let i,s,a,l;if(dn(e)&&!o)return e.clone();if(null===t)return null;i=t.anchorNode,s=t.focusNode,a=t.anchorOffset,l=t.focusOffset;const c=En(i,a,s,l,n,e);if(null===c)return null;const[d,u]=c;return new fn(d,u,dn(e)?e.format:0)}(t,r,e)}(e));const r=e._compositionKey;t(),a=Ut(e,a),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(dn(r)){const e=r.anchor,t=r.focus;let o;if("text"===e.type&&(o=e.getNode(),o.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();o!==e&&e.selectionTransform(n,r)}}}(c,e),0!==e._dirtyType&&(a?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const e of n){const t=r.get(e);rr(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&ae(t)}}(c,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,o=e._nodeMap,i=R(),s=new Map;let a=n,l=a.size,c=r,d=c.size;for(;l>0||d>0;){if(l>0){t._dirtyLeaves=new Set;for(const e of a){const r=o.get(e);rr(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&ae(r),void 0!==r&&Kt(r,i)&&Bt(t,r,s),n.add(e)}if(a=t._dirtyLeaves,l=a.size,l>0){$t++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(const e of c){const n=e[0],a=e[1];if("root"===n||!a)continue;const l=o.get(n);void 0!==l&&Kt(l,i)&&Bt(t,l,s),r.set(n,a)}a=t._dirtyLeaves,l=a.size,c=t._dirtyElements,d=c.size,$t++}t._dirtyLeaves=n,t._dirtyElements=r}(c,e),Ut(e),function(e,t,n,r){const o=e._nodeMap,i=t._nodeMap;for(const e of n){const t=i.get(e);void 0===t||t.isAttached()||(o.has(e)||n.delete(e),i.delete(e))}for(const[e]of r){const t=i.get(e);void 0!==t&&(t.isAttached()||(Pn(t)&&oe(t,e,o,i,r),o.has(e)||r.delete(e),i.delete(e)))}}(l,c,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(c._flushSync=!0);const o=c._selection;if(dn(o)){const e=c._nodeMap,t=o.anchor.key,n=o.focus.key;if(void 0===e.get(t)||void 0===e.get(n))throw Error("updateEditor: selection has been lost because the previously selected nodes have been removed and selection wasn't moved to another node. Ensure selection changes after removing/replacing a selected node.")}else hn(o)&&0===o._nodes.size&&(c._selection=null)}catch(t){return e._onError(t),e._pendingEditorState=l,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Wt(e)}finally{kt=u,Mt=g,At=f,e._updating=h,$t=0}const p=0!==e._dirtyType||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(c,e);p?c._flushSync?(c._flushSync=!1,Wt(e)):d&&C((()=>{Wt(e)})):(c._flushSync=!1,d&&(o.clear(),e._deferred=[],e._pendingEditorState=null))}function jt(e,t,n){e._updating?e._updates.push([t,n]):Yt(e,t,n)}let Vt=!1,Xt=0;function qt(e){Xt=e.timeStamp}function Zt(e,t,n){return t.__lexicalLineBreak===e||void 0!==e["__lexicalKey_"+n._key]}function Qt(e,t,r){const o=n();let i=null,s=null;null!==o&&o.anchorNode===e&&(i=o.anchorOffset,s=o.focusOffset),U(t,e.nodeValue,i,s,!1)}function Jt(e,t,n){Vt=!0;const r=performance.now()-Xt>100;try{jt(e,(()=>{const o=new Map,i=e.getRootElement(),s=e._editorState;let a=!1,l="";for(let n=0;n<t.length;n++){const c=t[n],d=c.type,u=c.target;let g=P(u,s);if(!$n(g))if("characterData"===d)r&&3===u.nodeType&&rr(g)&&g.isAttached()&&Qt(u,g);else if("childList"===d){a=!0;const t=c.addedNodes;for(let n=0;n<t.length;n++){const r=t[n],o=D(r),i=r.parentNode;if(null!=i&&null===o&&("BR"!==r.nodeName||!Zt(r,i,e))){if(h){const e=r.innerText||r.nodeValue;e&&(l+=e)}i.removeChild(r)}}const n=c.removedNodes,r=n.length;if(r>0){let t=0;for(let o=0;o<r;o++){const r=n[o];"BR"===r.nodeName&&Zt(r,u,e)&&(u.appendChild(r),t++)}r!==t&&(u===i&&(g=B(s)),o.set(u,g))}}}if(o.size>0)for(const[t,n]of o)if(Pn(n)){const r=n.__children;let o=t.firstChild;for(let n=0;n<r.length;n++){const i=r[n],s=e.getElementByKey(i);null!==s&&(null==o?(t.appendChild(s),o=s):o!==s&&t.replaceChild(s,o),o=o.nextSibling)}}else rr(n)&&n.markDirty();const c=n.takeRecords();if(c.length>0){for(let t=0;t<c.length;t++){const n=c[t],r=n.addedNodes,o=n.target;for(let t=0;t<r.length;t++){const n=r[t],i=n.parentNode;null==i||"BR"!==n.nodeName||Zt(n,o,e)||i.removeChild(n)}}n.takeRecords()}const d=xn()||function(e){return e.getEditorState().read((()=>{const e=xn();return null!==e?e.clone():null}))}(e);null!==d&&(a&&(d.dirty=!0,K(d)),h&&te()&&d.insertRawText(l))}))}finally{Vt=!1}}function en(e){const t=e._observer;null!==t&&Jt(e,t.takeRecords(),t)}function tn(e){0===Xt&&window.addEventListener("textInput",qt,!0),e._observer=new MutationObserver(((t,n)=>{Jt(e,t,n)}))}class nn{constructor(e,t,n){this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode();const r=this.offset,o=e.offset;return Pn(t)&&(t=t.getDescendantByIndex(r)),Pn(n)&&(n=n.getDescendantByIndex(o)),t===n?r<o:t.isBefore(n)}getNode(){const e=$(this.key);if(null===e)throw Error("Point.getNode: node not found");return e}set(e,t,n){const r=xn(),o=this.key;this.key=e,this.offset=t,this.type=n,Dt()||(R()===o&&M(e),null===r||r.anchor!==this&&r.focus!==this||(r.dirty=!0))}}function rn(e,t,n){return new nn(e,t,n)}function on(e,t){const n=t.__key;let r=e.offset,o="element";if(rr(t)){o="text";const e=t.getTextContentSize();r>e&&(r=e)}e.set(n,r,o)}function sn(e,t){if(Pn(t)){const n=t.getLastDescendant();Pn(n)||rr(n)?on(e,n):on(e,t)}else rr(t)&&on(e,t)}function an(e,t,n){const r=e.getNode(),o=r.getChildAtIndex(e.offset),i=nr(),s=Ln(r)?sr().append(i):i;i.setFormat(n),null===o?r.append(s):o.insertBefore(s),e.is(t)&&t.set(i.__key,0,"text"),e.set(i.__key,0,"text")}function ln(e,t,n,r){e.key=t,e.offset=n,e.type=r}class cn{constructor(e){this.dirty=!1,this._nodes=e}is(e){if(!hn(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}add(e){this.dirty=!0,this._nodes.add(e)}delete(e){this.dirty=!0,this._nodes.delete(e)}clear(){this.dirty=!0,this._nodes.clear()}has(e){return this._nodes.has(e)}clone(){return new cn(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}getNodes(){const e=this._nodes,t=[];for(const n of e){const e=$(n);null!==e&&t.push(e)}return t}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function dn(e){return e instanceof fn}class un{constructor(e,t,n){this.gridKey=e,this.anchor=t,this.focus=n,this.dirty=!1}is(e){return!!gn(e)&&this.gridKey===e.gridKey&&this.anchor.is(this.focus)}set(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n}clone(){return new un(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return mn(this)}extract(){return this.getNodes()}insertRawText(e){}insertText(){}getShape(){const e=$(this.anchor.key);if(!e)throw Error("getNodes: expected to find AnchorNode");const t=e.getIndexWithinParent(),n=e.getParentOrThrow().getIndexWithinParent(),r=$(this.focus.key);if(!r)throw Error("getNodes: expected to find FocusNode");const o=r.getIndexWithinParent(),i=r.getParentOrThrow().getIndexWithinParent(),s=Math.min(t,o),a=Math.max(t,o),l=Math.min(n,i),c=Math.max(n,i);return{fromX:Math.min(s,a),fromY:Math.min(l,c),toX:Math.max(s,a),toY:Math.max(l,c)}}getNodes(){const e=new Set,{fromX:t,fromY:n,toX:r,toY:o}=this.getShape(),i=$(this.gridKey);if(!fr(i))throw Error("getNodes: expected to find GridNode");e.add(i);const s=i.getChildren();for(let i=n;i<=o;i++){const n=s[i];if(e.add(n),!pr(n))throw Error("getNodes: expected to find GridRowNode");const o=n.getChildren();for(let n=t;n<=r;n++){const t=o[n];if(!ur(t))throw Error("getNodes: expected to find GridCellNode");e.add(t);const r=t.getChildren();for(;r.length>0;){const t=r.shift();e.add(t),Pn(t)&&r.unshift(...t.getChildren())}}}return Array.from(e)}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function gn(e){return e instanceof un}class fn{constructor(e,t,n){this.anchor=e,this.focus=t,this.dirty=!1,this.format=n}is(e){return!!dn(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this.anchor,t=this.focus;let n=e.getNode(),r=t.getNode();return Pn(n)&&(n=n.getDescendantByIndex(e.offset)),Pn(r)&&(r=r.getDescendantByIndex(t.offset)),n.is(r)?Pn(n)&&(n.getChildrenSize()>0||n.excludeFromCopy())?[]:[n]:n.getNodesBetween(r)}setTextNodeRange(e,t,n,r){ln(this.anchor,e.__key,t,"text"),ln(this.focus,n.__key,r,"text"),this.dirty=!0}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,o=this.focus,i=r.isBefore(o),[s,a]=mn(this);let l="",c=!0;for(let r=0;r<e.length;r++){const o=e[r];if(Pn(o)&&!o.isInline())c||(l+="\n"),c=!o.isEmpty();else if(c=!1,rr(o)){let e=o.getTextContent();o===t?e=o===n?s<a?e.slice(s,a):e.slice(a,s):i?e.slice(s):e.slice(a):o===n&&(e=i?e.slice(0,a):e.slice(0,s)),l+=e}else!$n(o)&&!Gn(o)||o===n&&this.isCollapsed()||(l+=o.getTextContent())}return l}applyDOMRange(e){const t=Ft(),n=t.getEditorState()._selection,r=En(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[o,i]=r;ln(this.anchor,o.key,o.offset,o.type),ln(this.focus,i.key,i.offset,i.type)}clone(){const e=this.anchor,t=this.focus;return new fn(rn(e.key,e.offset,e.type),rn(t.key,t.offset,t.type),this.format)}toggleFormat(e){this.format=b(this.format,e,null),this.dirty=!0}hasFormat(e){const t=l[e];return 0!=(this.format&t)}insertRawText(e){const t=e.split(/\r?\n/);if(1===t.length)this.insertText(e);else{const e=[],n=t.length;for(let r=0;r<n;r++){const o=t[r];""!==o&&e.push(nr(o)),r!==n-1&&e.push(Wn())}this.insertNodes(e)}}insertText(e){const t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),o=this.format;r&&"element"===t.type?an(t,n,o):r||"element"!==n.type||an(n,t,o);const i=this.getNodes(),s=i.length,a=r?n:t,l=(r?t:n).offset,c=a.offset;let d=i[0];if(!rr(d))throw Error("insertText: first node is not a text node");const u=d.getTextContent().length,g=d.getParentOrThrow();let f=i[s-1];if(!this.isCollapsed()||l!==u||!d.isSegmented()&&!d.isToken()&&d.canInsertTextAfter()&&g.canInsertTextAfter())if(!this.isCollapsed()||0!==l||!d.isSegmented()&&!d.isToken()&&d.canInsertTextBefore()&&g.canInsertTextBefore()){if(d.isSegmented()&&l!==u){const e=nr(d.getTextContent());d.replace(e),d=e}else if(!this.isCollapsed()&&""!==e){const t=f.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||Pn(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),Cn(this.anchor,this.focus,null),void this.insertText(e)}}else{let t=d.getPreviousSibling();if(rr(t)&&!x(t)||(t=nr(),g.canInsertTextBefore()?d.insertBefore(t):g.insertBefore(t)),t.select(),d=t,""!==e)return void this.insertText(e)}else{let t=d.getNextSibling();if(rr(t)&&!x(t)||(t=nr(),g.canInsertTextAfter()?d.insertAfter(t):g.insertAfter(t)),t.select(0,0),d=t,""!==e)return void this.insertText(e)}if(1===s){if(v(d)){const t=nr(e);return t.select(),void d.replace(t)}const t=d.getFormat();if(l===c&&t!==o){if(""!==d.getTextContent()){const t=nr(e);if(t.setFormat(o),t.select(),0===l)d.insertBefore(t);else{const[e]=d.splitText(l);e.insertAfter(t)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}d.setFormat(o)}const n=c-l;d=d.spliceText(l,n,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length)}else{const t=new Set([...d.getParentKeys(),...f.getParentKeys()]),n=Pn(d)?d:d.getParentOrThrow(),r=Pn(f)?f:f.getParentOrThrow();if("text"===a.type&&(0!==c||""===f.getTextContent())||"element"===a.type&&f.getIndexWithinParent()<c)if(rr(f)&&!v(f)&&c!==f.getTextContentSize()){if(f.isSegmented()){const e=nr(f.getTextContent());f.replace(e),f=e}f=f.spliceText(0,c,""),t.add(f.__key)}else{const e=f.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?f.remove():e.remove()}else t.add(f.__key);const o=r.getChildren(),g=new Set(i),h=n.is(r);if(r.canBeEmpty()||n===r){for(let e=o.length-1;e>=0;e--){const t=o[e];if(t.is(d)||Pn(t)&&t.isParentOf(d))break;t.isAttached()&&(!g.has(t)||t.is(f)?h||d.insertAfter(t):t.remove())}if(!h){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),o=r.length;(0===o||r[o-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}}else n.append(r);if(v(d))if(l===u)d.select();else{const t=nr(e);t.select(),d.replace(t)}else d=d.spliceText(l,u-l,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<s;e++){const n=i[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){this.insertText("")}formatText(e){const t=this.getNodes(),n=t.length-1;let r=t[0],o=t[n];if(this.isCollapsed())return this.toggleFormat(e),void M(null);const i=this.anchor,s=this.focus,a=s.offset;let l=0,c=r.getTextContent().length;for(let n=0;n<t.length;n++){const r=t[n];if(rr(r)){l=r.getFormatFlags(e,null);break}}let d,u,g=i.offset;const f=i.isBefore(s);if(d=f?g:a,u=f?a:g,d===r.getTextContentSize()){const t=r.getNextSibling();rr(t)&&(g=0,d=0,r=t,c=t.getTextContent().length,l=r.getFormatFlags(e,null))}if(r.is(o)){if(rr(r)){if("element"===i.type&&"element"===s.type)return r.setFormat(l),r.select(d,u),void(this.format=l);if(d=g>a?a:g,u=g>a?g:a,d===u)return;if(0===d&&u===c)r.setFormat(l),r.select(d,u);else{const e=r.splitText(d,u),t=0===d?e[0]:e[1];t.setFormat(l),t.select(0,u-d)}this.format=l}}else{rr(r)&&(0!==d&&([,r]=r.splitText(d),d=0),r.setFormat(l));let i=l;if(rr(o)){i=o.getFormatFlags(e,l);const t=o.getTextContent().length;0!==u&&(u!==t&&([o]=o.splitText(u)),o.setFormat(i))}for(let s=1;s<n;s++){const n=t[s],a=n.__key;if(rr(n)&&a!==r.__key&&a!==o.__key&&!n.isToken()){const t=n.getFormatFlags(e,i);n.setFormat(t)}}}}insertNodes(e,t){this.isCollapsed()||this.removeText();const n=this.anchor,r=n.offset,o=n.getNode();let i=o;if("element"===n.type){const e=n.getNode(),t=e.getChildAtIndex(r-1);i=null===t?e:t}const s=[],a=o.getNextSiblings(),l=Ln(o)?null:o.getTopLevelElementOrThrow();if(rr(o)){const e=o.getTextContent().length;if(0===r&&0!==e){const e=o.getPreviousSibling();i=null!==e?e:o.getParentOrThrow(),s.push(o)}else if(r===e)i=o;else{if(v(o))return!1;{let e;[i,e]=o.splitText(r),s.push(e)}}}const c=i;s.push(...a);const d=e[0];let u=!1,g=null;for(let t=0;t<e.length;t++){const n=e[t];if(Pn(n)){if(n.is(d)){if(Pn(i)&&i.isEmpty()&&i.canReplaceWith(n)){i.replace(n),i=n,u=!0;continue}const e=n.getFirstDescendant();if(O(e)){let t=e.getParentOrThrow();for(;t.isInline();)t=t.getParentOrThrow();const r=t.getChildren(),o=r.length;if(Pn(i))for(let e=0;e<o;e++)g=r[e],i.append(g);else{for(let e=o-1;e>=0;e--)g=r[e],i.insertAfter(g);i=i.getParentOrThrow()}if(t.remove(),u=!0,t.is(n))continue}}if(rr(i)){if(null===l)throw Error("insertNode: topLevelElement is root node");i=l}}else if(u&&!$n(n)&&Ln(i.getParent()))throw Error("insertNodes: cannot insert a non-element into a root node");if(u=!1,Pn(i))if(g=n,$n(n)&&n.isTopLevel())i=i.insertAfter(n);else if(Pn(n)){if(!n.canBeEmpty()&&n.isEmpty())continue;if(Ln(i)){const e=i.getChildAtIndex(r);null!==e?e.insertBefore(n):i.append(n),i=n}else i=i.insertAfter(n)}else{const e=i.getFirstChild();null!==e?e.insertBefore(n):i.append(n),i=n}else{if(!(!Pn(n)||$n(i)&&i.isTopLevel())){i=n.getParentOrThrow(),t--;continue}g=n,i=i.insertAfter(n)}}if(t)if(rr(c))c.select();else{const e=i.getPreviousSibling();if(rr(e))e.select();else{const e=i.getIndexWithinParent();i.getParentOrThrow().select(e,e)}}if(Pn(i)){const e=rr(g)?g:i.getLastDescendant();if(t||(null===e?i.select():rr(e)?e.select():e.selectNext()),0!==s.length)for(let e=s.length-1;e>=0;e--){const t=s[e],n=t.getParentOrThrow();if(Pn(i)&&!Pn(t))i.append(t),i=t;else if(Pn(i)||Pn(t))if(Pn(t)&&!t.canInsertAfter(i)){const e=n.constructor.clone(n);if(!Pn(e))throw Error("insertNodes: cloned parent clone is not an element");e.append(t),i.insertAfter(e)}else i.insertAfter(t);else i.insertBefore(t),i=t;n.isEmpty()&&!n.canBeEmpty()&&n.remove()}}else if(!t)if(rr(i))i.select();else{const e=i.getParentOrThrow(),t=i.getIndexWithinParent()+1;e.select(t,t)}return!0}insertParagraph(){this.isCollapsed()||this.removeText();const e=this.anchor,t=e.offset;let n,r=[],o=[];if("text"===e.type){const i=e.getNode();r=i.getNextSiblings().reverse(),n=i.getParentOrThrow();const s=n.isInline(),a=s?n.getTextContentSize():i.getTextContentSize();if(0===t)r.push(i);else if(s&&(o=n.getNextSiblings()),t!==a&&(!s||t!==i.getTextContentSize())){const[,e]=i.splitText(t);r.push(e)}}else{if(n=e.getNode(),Ln(n)){const e=sr(),r=n.getChildAtIndex(t);return e.select(),void(null!==r?r.insertBefore(e):n.append(e))}r=n.getChildren().slice(t).reverse()}const i=r.length;if(0===t&&i>0&&n.isInline())return void n.getParentOrThrow().insertBefore(sr());const s=n.insertNewAfter(this);if(null===s)this.insertLineBreak();else if(Pn(s)){const a=n.getFirstChild();if(0===t&&(n.is(e.getNode())||a&&a.is(e.getNode()))&&i>0)return void n.insertBefore(s);let l=null;const c=o.length,d=s.getParentOrThrow();if(c>0)for(let e=0;e<c;e++){const t=o[e];d.append(t)}if(0!==i)for(let e=0;e<i;e++){const t=r[e];null===l?s.append(t):l.insertBefore(t),l=t}s.canBeEmpty()||0!==s.getChildrenSize()?s.selectStart():(s.selectPrevious(),s.remove())}}insertLineBreak(e){const t=Wn(),n=this.anchor;"element"===n.type&&Ln(n.getNode())&&this.insertParagraph(),e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}getCharacterOffsets(){return mn(this)}extract(){const e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,o=this.focus;let i=e[0],s=e[n];const[a,l]=mn(this);if(0===t)return[];if(1===t){if(rr(i)){const e=a>l?l:a,t=a>l?a:l,n=i.splitText(e,t),r=0===e?n[0]:n[1];return null!=r?[r]:[]}return[i]}const c=r.isBefore(o);if(rr(i)){const t=c?a:l;t===i.getTextContentSize()?e.shift():0!==t&&([,i]=i.splitText(t),e[0]=i)}if(rr(s)){const t=s.getTextContent().length,r=c?l:a;0===r?e.pop():r!==t&&([s]=s.splitText(r),e[n]=s)}return e}modify(e,t,r){const o=this.focus,i=this.anchor,s="move"===e,a=ee(o,t);if($n(a)&&!a.isIsolated()){const e=t?a.getPreviousSibling():a.getNextSibling();if(rr(e)){const n=e.__key,r=t?e.getTextContent().length:0;return o.set(n,r,"text"),void(s&&i.set(n,r,"text"))}{const n=a.getParentOrThrow();let r,l;return Pn(e)?(l=e.__key,r=t?e.getChildrenSize():0):(r=a.getIndexWithinParent(),l=n.__key,t||r++),o.set(l,r,"element"),void(s&&i.set(l,r,"element"))}}const l=n();if(function(e,t,n,r){e.modify(t,n,r)}(l,e,t?"backward":"forward",r),l.rangeCount>0){const e=l.getRangeAt(0);this.applyDOMRange(e),s||l.anchorNode===e.startContainer&&l.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,o=n.offset,i=n.type;ln(n,t.key,t.offset,t.type),ln(t,r,o,i)}(this)}}deleteCharacter(e){if(this.isCollapsed()){const t=this.anchor,n=this.focus;let r=t.getNode();if(!e&&("element"===t.type&&t.offset===r.getChildrenSize()||"text"===t.type&&t.offset===r.getTextContentSize())){const e=r.getNextSibling()||r.getParentOrThrow().getNextSibling();if(Pn(e)&&!e.canExtractContents())return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&("element"===t.type?t.getNode():t.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const o="text"===n.type?n.getNode():null;if(r="text"===t.type?t.getNode():null,null!==o&&o.isSegmented()){const t=n.offset,i=o.getTextContentSize();if(o.is(r)||e&&t!==i||!e&&0!==t)return void _n(o,e,t)}else if(null!==r&&r.isSegmented()){const n=t.offset,i=r.getTextContentSize();if(r.is(o)||e&&0!==n||!e&&n!==i)return void _n(r,e,n)}!function(e,t){const n=e.anchor,r=e.focus,o=n.getNode();if(o===r.getNode()&&"text"===n.type&&"text"===r.type){const e=n.offset,i=r.offset,s=e<i,a=s?e:i,l=s?i:e,c=l-1;if(a!==c){const e=o.getTextContent().slice(a,l);/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)||(t?r.offset=c:n.offset=c)}}}(this,e)}}this.removeText()}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function hn(e){return e instanceof cn}function pn(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function mn(e){const t=e.anchor,n=e.focus;return"element"===t.type&&"element"===n.type&&t.key===n.key&&t.offset===n.offset?[0,0]:[pn(t),pn(n)]}function _n(e,t,n){const r=e,o=r.getTextContent().split(/\s/g),i=o.length;let s=0,a=0;for(let e=0;e<i;e++){const r=e===i-1;if(a=s,s+=o[e].length,t&&s===n||s>n||r){o.splice(e,1),r&&(a=void 0);break}}const l=o.join(" ");""===l?r.remove():(r.setTextContent(l),r.select(a,a))}function yn(e,t,n){let r,o=t;if(1===e.nodeType){let i=!1;const s=e.childNodes,a=s.length;if(o===a&&(i=!0,o=a-1),r=z(s[o]),rr(r))o=W(r,i);else{let s=z(e);if(null===s)return null;if(Pn(s)){let e=s.getChildAtIndex(o);if(Pn(e)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(e,0,n)){const t=i?e.getLastDescendant():e.getFirstDescendant();null===t?(s=e,o=0):(e=t,s=e.getParentOrThrow())}rr(e)?(r=e,s=null,o=W(r,i)):e!==s&&i&&o++}else{const n=s.getIndexWithinParent();o=0===t&&$n(s)&&z(e)===s?n:n+1,s=s.getParentOrThrow()}if(Pn(s))return rn(s.__key,o,"element")}}else r=z(e);return rr(r)?rn(r.__key,o,"text"):null}function Nn(e,t,n){const r=e.offset,o=e.getNode();if(0===r){const r=o.getPreviousSibling(),i=o.getParent();if(t){if((n||!t)&&null===r&&Pn(i)&&i.isInline()){const t=i.getPreviousSibling();rr(t)&&(e.key=t.__key,e.offset=t.getTextContent().length)}}else Pn(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):rr(r)&&!r.isInert()&&(e.key=r.__key,e.offset=r.getTextContent().length)}else if(r===o.getTextContent().length){const r=o.getNextSibling(),i=o.getParent();if(t&&Pn(r)&&r.isInline())e.key=r.__key,e.offset=0,e.type="element";else if((n||t)&&null===r&&Pn(i)&&i.isInline()){const t=i.getNextSibling();rr(t)&&(e.key=t.__key,e.offset=0)}}}function Cn(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),o=e.is(t);Nn(e,r,o),Nn(t,!r,o),o&&(t.key=e.key,t.offset=e.offset,t.type=e.type);const i=Ft();if(i.isComposing()&&i._compositionKey!==e.key&&dn(n)){const r=n.anchor,o=n.focus;ln(e,r.key,r.offset,r.type),ln(t,o.key,o.offset,o.type)}}}function En(e,t,n,r,o,i){if(null===e||null===n||!E(o,e,n))return null;const s=yn(e,t,dn(i)?i.anchor:null);if(null===s)return null;const a=yn(n,r,dn(i)?i.focus:null);return null===a?null:(Cn(s,a,i),[s,a])}function Tn(e,t,n,r,o,i){const s=Lt(),a=new fn(rn(e,t,o),rn(n,r,i),0);return a.dirty=!0,s._selection=a,a}function xn(){return Lt()._selection}function vn(){return Ft()._editorState._selection}function Sn(e,t,n,r=1){const o=e.anchor,i=e.focus,s=o.getNode(),a=i.getNode();if(!t.is(s)&&!t.is(a))return;const l=t.__key;if(e.isCollapsed()){const t=o.offset;if(n<=t){const n=Math.max(0,t+r);o.set(l,n,"element"),i.set(l,n,"element"),bn(e)}return}const c=e.isBackward(),d=c?i:o,u=d.getNode(),g=c?o:i,f=g.getNode();if(t.is(u)){const e=d.offset;n<=e&&d.set(l,Math.max(0,e+r),"element")}if(t.is(f)){const e=g.offset;n<=e&&g.set(l,Math.max(0,e+r),"element")}bn(e)}function bn(e){const t=e.anchor,n=t.offset,r=e.focus,o=r.offset,i=t.getNode(),s=r.getNode();if(e.isCollapsed()){if(!Pn(i))return;const e=i.getChildrenSize(),o=n>=e,s=o?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(rr(s)){let e=0;o&&(e=s.getTextContentSize()),t.set(s.__key,e,"text"),r.set(s.__key,e,"text")}}else{if(Pn(i)){const e=i.getChildrenSize(),r=n>=e,o=r?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(rr(o)){let e=0;r&&(e=o.getTextContentSize()),t.set(o.__key,e,"text")}}if(Pn(s)){const e=s.getChildrenSize(),t=o>=e,n=t?s.getChildAtIndex(e-1):s.getChildAtIndex(o);if(rr(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}}function On(e,t,n,r,o){let i=null,s=0,a=null;null!==r?(i=r.__key,rr(r)?(s=r.getTextContentSize(),a="text"):Pn(r)&&(s=r.getChildrenSize(),a="element")):null!==o&&(i=o.__key,rr(o)?a="text":Pn(o)&&(a="element")),null!==i&&null!==a?e.set(i,s,a):(s=t.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),e.set(n.__key,s,"element"))}function wn(e,t,n,r,o){"text"===e.type?(e.key=n,t||(e.offset+=o)):e.offset>r.getIndexWithinParent()&&(e.offset-=1)}function kn(e,t,n){Pt();const r=e.__key,o=e.getParent();if(null===o)return;const i=xn();let s=!1;if(dn(i)&&t){const t=i.anchor,n=i.focus;t.key===r&&(On(t,e,o,e.getPreviousSibling(),e.getNextSibling()),s=!0),n.key===r&&(On(n,e,o,e.getPreviousSibling(),e.getNextSibling()),s=!0)}const a=o.getWritable().__children,l=a.indexOf(r);if(-1===l)throw Error("Node is not a child of its parent");A(e),a.splice(l,1),e.getWritable().__parent=null,dn(i)&&t&&!s&&Sn(i,o,l,-1),n||null===o||Ln(o)||o.canBeEmpty()||!o.isEmpty()||kn(o,t),null!==o&&Ln(o)&&o.isEmpty()&&o.selectEnd()}function An(e){const t=$(e);if(null===t)throw Error(`Expected node with key ${e} to exist but it's not in the nodeMap.`);return t}class Mn{static getType(){throw Error(`LexicalNode: Node ${this.name} does not implement .getType().`)}static clone(e){throw Error(`LexicalNode: Node ${this.name} does not implement .clone().`)}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,function(e,t){if(null!=t)return void(e.__key=t);Pt(),It();const n=Ft(),r=Lt(),o=N();r._nodeMap.set(o,e),Pn(e)?n._dirtyElements.set(o,!0):n._dirtyLeaves.add(o),n._cloneNotNeeded.add(o),n._dirtyType=1,e.__key=o}(this,e);{const e=Object.getPrototypeOf(this);["getType","clone"].forEach((t=>{e.constructor.hasOwnProperty(t)||console.warn(`${this.constructor.name} must implement static "${t}" method`)})),"root"!==this.__type&&(Pt(),function(e,t){const n=Ft()._nodes.get(e);if(void 0===n)throw Error(`Create node: Attempted to create node ${t.name} that was not previously registered on the editor. You can use register your custom nodes.`);const r=n.klass;if(r!==t)throw Error(`Create node: Type ${e} in node ${t.name} does not match registered node ${r.name} with the same type`)}(this.__type,this.constructor))}}getType(){return this.__type}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=$(e);if(null===t)break;e=t.__parent}return!1}isSelected(){const e=xn();if(null==e)return!1;const t=new Set(e.getNodes().map((e=>e.__key))).has(this.__key);return(rr(this)||!dn(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&t}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();return null===e?-1:e.__children.indexOf(this.__key)}getParent(){const e=this.getLatest().__parent;return null===e?null:$(e)}getParentOrThrow(){const e=this.getParent();if(null===e)throw Error(`Expected node ${this.__key} to have a parent.`);return e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(Ln(t)&&Pn(e))return e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();if(null===e)throw Error(`Expected node ${this.__key} to have a top parent element.`);return e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getParent();if(null===e)return null;const t=e.__children,n=t.indexOf(this.__key);return n<=0?null:$(t[n-1])}getPreviousSiblings(){const e=this.getParent();if(null===e)return[];const t=e.__children,n=t.indexOf(this.__key);return t.slice(0,n).map((e=>An(e)))}getNextSibling(){const e=this.getParent();if(null===e)return null;const t=e.__children,n=t.length,r=t.indexOf(this.__key);return r>=n-1?null:$(t[r+1])}getNextSiblings(){const e=this.getParent();if(null===e)return[];const t=e.__children,n=t.indexOf(this.__key);return t.slice(n+1).map((e=>An(e)))}getCommonAncestor(e){const t=this.getParents(),n=e.getParents();Pn(this)&&t.unshift(this),Pn(e)&&n.unshift(e);const r=t.length,o=n.length;if(0===r||0===o||t[r-1]!==n[o-1])return null;const i=new Set(n);for(let e=0;e<r;e++){const n=t[e];if(i.has(n))return n}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;const t=this.getCommonAncestor(e);let n=0,r=0,o=this;for(;;){const e=o.getParentOrThrow();if(e===t){n=e.__children.indexOf(o.__key);break}o=e}for(o=e;;){const e=o.getParentOrThrow();if(e===t){r=e.__children.indexOf(o.__key);break}o=e}return n<r}isParentOf(e){const t=this.__key;if(t===e.__key)return!1;let n=e;for(;null!==n;){if(n.__key===t)return!0;n=n.getParent()}return!1}getNodesBetween(e){const t=this.isBefore(e),n=[],r=new Set;let o=this,i=null;for(;;){const s=o.__key;if(r.has(s)||(r.add(s),n.push(o)),o===e)break;const a=Pn(o)?t?o.getFirstChild():o.getLastChild():null;if(null!==a){null===i&&(i=o),o=a;continue}const l=t?o.getNextSibling():o.getPreviousSibling();if(null!==l){o=l;continue}const c=o.getParentOrThrow();if(r.has(c.__key)||n.push(c),c===e)break;let d=null,u=c;c.is(i)&&(i=null);do{if(null===u)throw Error("getNodesBetween: ancestor is null");d=t?u.getNextSibling():u.getPreviousSibling(),u=u.getParent(),null!==u&&(u.is(i)&&(i=null),null!==d||r.has(u.__key)||n.push(u))}while(null===d);o=d}return t||n.reverse(),n}isDirty(){const e=Ft()._dirtyLeaves;return null!==e&&e.has(this.__key)}isComposing(){return this.__key===R()}getLatest(){const e=$(this.__key);if(null===e)throw Error("getLatest: node not found");return e}getWritable(){Pt();const e=Lt(),t=Ft(),n=e._nodeMap,r=this.__key,o=this.getLatest(),i=o.__parent,s=t._cloneNotNeeded;if(s.has(r))return k(o),o;const a=o.constructor.clone(o);if(a.__parent=i,Pn(o)&&Pn(a))console.log("latestNode====",o),a.__children=Array.from(o.__children),a.__indent=o.__indent,a.__format=o.__format,a.__dir=o.__dir;else if(rr(o)&&rr(a)){const e=o.__marks;a.__format=o.__format,a.__style=o.__style,a.__mode=o.__mode,a.__detail=o.__detail,a.__marks=null===e?e:Array.from(e)}return s.add(r),a.__key=r,k(a),n.set(r,a),a}getTextContent(e,t){return""}getTextContentSize(e,t){return this.getTextContent(e,t).length}createDOM(e,t){throw Error("createDOM: base method not extended")}updateDOM(e,t,n){throw Error("updateDOM: base method not extended")}exportDOM(e){if($n(this)){const t=e.getElementByKey(this.getKey());return{element:t?t.cloneNode():null}}return{element:this.createDOM(e._config,e)}}static importDOM(){return null}remove(e){Pt(),kn(this,!0,e)}replace(e){Pt();const t=this.__key,n=e.getWritable();w(n);const r=this.getParentOrThrow(),o=r.getWritable().__children,i=o.indexOf(this.__key),s=n.__key;if(-1===i)throw Error("Node is not a child of its parent");o.splice(i,0,s),n.__parent=r.__key,kn(this,!1),A(n);const a=xn();if(dn(a)){const e=a.anchor,r=a.focus;e.key===t&&sn(e,n),r.key===t&&sn(r,n)}return R()===t&&M(s),n}insertAfter(e){Pt();const t=this.getWritable(),n=e.getWritable(),r=n.getParent(),o=xn(),i=e.getIndexWithinParent();let s=!1,a=!1;if(null!==r&&(w(n),dn(o))){const e=r.__key,t=o.anchor,n=o.focus;s="element"===t.type&&t.key===e&&t.offset===i+1,a="element"===n.type&&n.key===e&&n.offset===i+1}const l=this.getParentOrThrow().getWritable(),c=n.__key;n.__parent=t.__parent;const d=l.__children,u=d.indexOf(t.__key);if(-1===u)throw Error("Node is not a child of its parent");if(d.splice(u+1,0,c),A(n),dn(o)){Sn(o,l,u+1);const e=l.__key;s&&o.anchor.set(e,u+2,"element"),a&&o.focus.set(e,u+2,"element")}return e}insertBefore(e){Pt();const t=this.getWritable(),n=e.getWritable();w(n);const r=this.getParentOrThrow().getWritable(),o=n.__key;n.__parent=t.__parent;const i=r.__children,s=i.indexOf(t.__key);if(-1===s)throw Error("Node is not a child of its parent");i.splice(s,0,o),A(n);const a=xn();return dn(a)&&Sn(a,r,s),e}selectPrevious(e,t){Pt();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(Pn(n))return n.select();if(!rr(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){Pt();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(Pn(n))return n.select(0,0);if(!rr(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}}class Rn extends Mn{constructor(e){super(e);{const e=Object.getPrototypeOf(this);["decorate"].forEach((t=>{e.hasOwnProperty(t)||console.warn(`${this.constructor.name} must implement "${t}" method`)}))}}decorate(e){throw Error("decorate: base method not extended")}isIsolated(){return!1}isTopLevel(){return!1}}function $n(e){return e instanceof Rn}class Dn extends Mn{constructor(e){super(e),this.__children=[],this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getIndent(){return this.getLatest().__indent}getChildren(){const e=this.getLatest().__children,t=[];for(let n=0;n<e.length;n++){const r=$(e[n]);null!==r&&t.push(r)}return t}getChildrenKeys(){return this.getLatest().__children}getChildrenSize(){return this.getLatest().__children.length}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=Ft()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest();return e.getParentOrThrow().getLastChild()===e}getAllTextNodes(e){const t=[],n=this.getLatest().__children;for(let r=0;r<n.length;r++){const o=$(n[r]);if(!rr(o)||!e&&o.isInert()){if(Pn(o)){const n=o.getAllTextNodes(e);t.push(...n)}}else t.push(o)}return t}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(Pn(e)){const t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(Pn(e)){const t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(0===n)return this;if(e>=n){const e=t[n-1];return Pn(e)&&e.getLastDescendant()||e}const r=t[e];return Pn(r)&&r.getFirstDescendant()||r}getFirstChild(){const e=this.getLatest().__children;return 0===e.length?null:$(e[0])}getFirstChildOrThrow(){const e=this.getFirstChild();if(null===e)throw Error(`Expected node ${this.__key} to have a first child.`);return e}getLastChild(){const e=this.getLatest().__children,t=e.length;return 0===t?null:$(e[t-1])}getChildAtIndex(e){const t=this.getLatest().__children[e];return void 0===t?null:$(t)}getTextContent(e,t){let n="";const o=this.getChildren(),i=o.length;for(let s=0;s<i;s++){const a=o[s];n+=a.getTextContent(e,t),Pn(a)&&s!==i-1&&!a.isInline()&&(n+=r)}return n}getDirection(){return this.getLatest().__dir}hasFormat(e){const t=c[e];return 0!=(this.getFormat()&t)}select(e,t){Pt();const n=xn();let r=e,o=t;const i=this.getChildrenSize();void 0===r&&(r=i),void 0===o&&(o=i);const s=this.__key;return dn(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,o,"element"),n.dirty=!0,n):Tn(s,r,s,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return Pn(e)||rr(e)?e.select(0,0):null!==e?e.selectPrevious():this.select(0,0)}selectEnd(){const e=this.getLastDescendant();return Pn(e)||rr(e)?e.select():null!==e?e.selectNext():this.select()}clear(){Pt();const e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return Pt(),this.splice(this.getChildrenSize(),0,e)}setDirection(e){Pt();const t=this.getWritable();return t.__dir=e,t}setFormat(e){return Pt(),this.getWritable().__format=c[e],this}setIndent(e){return Pt(),this.getWritable().__indent=e,this}splice(e,t,n){Pt();const r=this.getWritable(),o=r.__key,i=r.__children,s=n.length,a=[];for(let e=0;e<s;e++){const t=n[e],r=t.getWritable();if(t.__key===o)throw Error("append: attemtping to append self");w(r),r.__parent=o;const i=r.__key;a.push(i)}const l=this.getChildAtIndex(e-1);l&&k(l);const c=this.getChildAtIndex(e+t);let d;if(c&&k(c),e===i.length?(i.push(...a),d=[]):d=i.splice(e,t,...a),d.length){const e=xn();if(dn(e)){const t=new Set(d),n=new Set(a),r=e=>{let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1},{anchor:o,focus:s}=e;r(o)&&On(o,o.getNode(),this,l,c),r(s)&&On(s,s.getNode(),this,l,c);const u=d.length;for(let e=0;e<u;e++){const t=$(d[e]);null!=t&&(t.getWritable().__parent=null)}0!==i.length||this.canBeEmpty()||Ln(this)||this.remove()}}return r}insertNewAfter(e){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}canMergeWith(e){return!1}}function Pn(e){return e instanceof Dn}class In extends Dn{static getType(){return"root"}static clone(){return new In}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){throw Error("getTopLevelElementOrThrow: root nodes are not top level elements")}getTextContent(e,t){const n=this.__cachedText;return!Dt()&&0!==Ft()._dirtyType||null===n||e&&!1===t?super.getTextContent(e,t):n}remove(){throw Error("remove: cannot be called on root nodes")}replace(e){throw Error("replace: cannot be called on root nodes")}insertBefore(e){throw Error("insertBefore: cannot be called on root nodes")}insertAfter(e){throw Error("insertAfter: cannot be called on root nodes")}updateDOM(e,t){return!1}append(...e){for(let t=0;t<e.length;t++){const n=e[t];if(!Pn(n)&&!$n(n))throw Error("rootNode.append: Only element or decorator nodes can be appended to the root node")}return super.append(...e)}toJSON(){return{__children:this.__children,__dir:this.__dir,__format:this.__format,__indent:this.__indent,__key:"root",__parent:null,__type:"root"}}}function Ln(e){return e instanceof In}function Fn(){return new Bn(new Map([["root",new In]]))}class Bn{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return function(e,t){const n=kt,r=Mt,o=At;kt=e,Mt=!0,At=null;try{return t()}finally{kt=n,Mt=r,At=o}}(this,e)}clone(e){const t=new Bn(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(e){const t=this._selection;return{_nodeMap:Array.from(this._nodeMap.entries()),_selection:dn(t)?{anchor:{key:t.anchor.key,offset:t.anchor.offset,type:t.anchor.type},focus:{key:t.focus.key,offset:t.focus.offset,type:t.focus.type},type:"range"}:hn(t)?{nodes:Array.from(t._nodes),type:"node"}:gn(t)?{anchor:{key:t.anchor.key,offset:t.anchor.offset,type:t.anchor.type},focus:{key:t.focus.key,offset:t.focus.offset,type:t.focus.type},gridKey:t.gridKey,type:"grid"}:null}}}class Kn extends Mn{static getType(){return"linebreak"}static clone(e){return new Kn(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>({conversion:zn,priority:0})}}}function zn(e){return{node:Wn()}}function Wn(){return new Kn}function Gn(e){return e instanceof Kn}function Hn(e,t){return 16&t?"code":32&t?"sub":64&t?"sup":null}function Un(e,t){return 1&t?"strong":2&t?"em":"span"}function Yn(e,t,n,r,o){const i=r.classList;let s=Z(o,"base");void 0!==s&&i.add(...s),s=Z(o,"underlineStrikethrough");let a=!1;const c=8&t&&4&t;void 0!==s&&(8&n&&4&n?(a=!0,c||i.add(...s)):c&&i.remove(...s));for(const e in l){const r=l[e];if(s=Z(o,e),void 0!==s)if(n&r){if(a&&("underline"===e||"strikethrough"===e)){t&r&&i.remove(...s);continue}(0==(t&r)||c&&"underline"===e||"strikethrough"===e)&&i.add(...s)}else t&r&&i.remove(...s)}}function jn(e,t,n){const r=t.firstChild,o=n.isComposing(),i=e+(o?"​":"");if(null==r)t.textContent=i;else{const e=r.nodeValue;if(e!==i)if(o){const[t,n,o]=function(e,t){const n=e.length,r=t.length;let o=0,i=0;for(;o<n&&o<r&&e[o]===t[o];)o++;for(;i+o<n&&i+o<r&&e[n-i-1]===t[r-i-1];)i++;return[o,n-o-i,t.slice(o,r-i)]}(e,i);0!==n&&r.deleteData(t,n),r.insertData(t,o)}else r.nodeValue=i}}function Vn(e,t,n,r,o,i){jn(o,e,t);const s=i.theme.text;void 0!==s&&Yn(0,0,r,e,s)}function Xn(e,t,n,r,o){for(let i=0;i<t.length;i++){const{id:s,start:a,end:l}=t[i];let c=a,d=l;null!==c&&c>=n&&(n+r>=c&&(c=n+r),c+=o-r),null!==d&&d>=n&&(n+r>=d&&(d=n),d+=o-r),c===a&&d===l||(null===c&&null===d||null!==c&&null!==d&&c>=d?e.deleteMark(s):e.setMark(s,c,d))}}class qn extends Mn{static getType(){return"text"}static clone(e){return new qn(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0,this.__marks=null}getFormat(){return this.getLatest().__format}getMark(e){const t=this.getLatest().__marks;if(null!==t)for(let n=0;n<t.length;n++){const r=t[n];if(r.id===e)return r}return null}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isSegmented(){return 2===this.getLatest().__mode}isInert(){return 3===this.getLatest().__mode}isDirectionless(){return 0!=(1&this.getLatest().__detail)}isUnmergeable(){return 0!=(2&this.getLatest().__detail)}hasFormat(e){const t=l[e];return 0!=(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(e,t){return!e&&this.isInert()||!1===t&&this.isDirectionless()?"":this.getLatest().__text}getFormatFlags(e,t){return b(this.getLatest().__format,e,t)}createDOM(e){const t=this.__format,n=Hn(0,t),r=Un(0,t),o=null===n?r:n,i=document.createElement(o);let s=i;null!==n&&(s=document.createElement(r),i.appendChild(s)),Vn(s,this,0,t,this.__text,e);const a=this.__style;return""!==a&&(i.style.cssText=a),i}updateDOM(e,t,n){const r=this.__text,o=e.__format,i=this.__format,s=Hn(0,o),a=Hn(0,i),l=Un(0,o),c=Un(0,i);if((null===s?l:s)!==(null===a?c:a))return!0;if(s===a&&l!==c){const e=t.firstChild;if(null==e)throw Error("updateDOM: prevInnerDOM is null or undefined");const o=document.createElement(c);return Vn(o,this,0,i,r,n),t.replaceChild(o,e),!1}let d=t;if(null!==a&&null!==s&&(d=t.firstChild,null==d))throw Error("updateDOM: innerDOM is null or undefined");jn(r,d,this);const u=n.theme.text;void 0!==u&&o!==i&&Yn(0,o,i,d,u);const g=e.__style,f=this.__style;return g!==f&&(t.style.cssText=f),!1}static importDOM(){return{"#text":e=>({conversion:Jn,priority:0}),b:e=>({conversion:Qn,priority:0}),em:e=>({conversion:tr,priority:0}),i:e=>({conversion:tr,priority:0}),span:e=>({conversion:Zn,priority:0}),strong:e=>({conversion:tr,priority:0}),u:e=>({conversion:tr,priority:0})}}selectionTransform(e,t){}setFormat(e){Pt();const t=this.getWritable();return t.__format=e,t}setStyle(e){Pt();const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=l[e];return this.setFormat(this.getFormat()^t)}toggleDirectionless(){Pt();const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){Pt();const e=this.getWritable();return e.__detail^=2,e}setMark(e,t,n){Pt();const r=this.getWritable();let o=r.__marks,i=!1;null===o&&(r.__marks=o=[]);const s={end:n,id:e,start:t};Object.freeze(s);for(let t=0;t<o.length;t++)if(o[t].id===e){i=!0,o.splice(t,1,s);break}i||o.push(s)}deleteMark(e){Pt();const t=this.getWritable(),n=t.__marks;if(null!==n){for(let t=0;t<n.length;t++)if(n[t].id===e){n.splice(t,1);break}0===n.length&&(t.__marks=null)}}setMode(e){Pt();const t=d[e],n=this.getWritable();return n.__mode=t,n}setTextContent(e){Pt();const t=this.getWritable();if(null!==t.__marks){const n=xn();let r=e.length;if(dn(n)&&n.isCollapsed()){const e=n.anchor;e.key===this.__key&&(r=e.offset)}const o=function(e,t,n){const r=e.length,o=t.length;let i=0,s=0;for(;i<r&&i<o&&e[i]===t[i]&&i<n;)i++;for(;s+i<r&&s+i<o&&e[r-s-1]===t[o-s-1];)s++;for(;s+i<r&&s+i<o&&e[i]===t[i];)i++;return{index:i,insert:t.slice(i,o-s),remove:r-i-s}}(t.__text,e,r);this.spliceText(o.index,o.remove,o.insert)}else t.__text=e;return t}select(e,t){Pt();let n=e,r=t;const o=xn(),i=this.getTextContent(),s=this.__key;if("string"==typeof i){const e=i.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!dn(o))return Tn(s,n,s,r,"text","text");{const e=R();e!==o.anchor.key&&e!==o.focus.key||M(s),o.setTextNodeRange(this,n,this,r)}return o}spliceText(e,t,n,r){Pt();const o=this.getWritable(),i=o.__text,s=n.length;let a=e;a<0&&(a=s+a,a<0&&(a=0));const l=xn();if(r&&dn(l)){const t=e+s;l.setTextNodeRange(o,t,o,t)}const c=i.slice(0,a)+n+i.slice(a+t),d=o.__marks;return null!==d&&Xn(o,d,e,t,s),o.__text=c,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Pt();const t=this.getLatest(),n=t.getTextContent(),r=t.__key,o=R(),i=new Set(e),s=[],a=n.length;let l="";for(let e=0;e<a;e++)""!==l&&i.has(e)&&(s.push(l),l=""),l+=n[e];""!==l&&s.push(l);const c=s.length;if(0===c)return[];if(s[0]===n)return[t];const d=s[0],u=t.getParentOrThrow(),g=u.__key;let f;const h=t.getFormat(),p=t.getStyle(),m=t.__detail,_=t.__marks;let y=!1;t.isSegmented()?(f=nr(d),f.__parent=g,f.__format=h,f.__style=p,f.__detail=m,f.__marks=_,y=!0):(f=t.getWritable(),f.__text=d);const N=xn(),C=[f];let E=d.length;for(let e=1;e<c;e++){const t=s[e],n=t.length,i=nr(t).getWritable();i.__format=h,i.__style=p,i.__detail=m;const a=i.__key,l=E+n;if(dn(N)){const e=N.anchor,t=N.focus;e.key===r&&"text"===e.type&&e.offset>E&&e.offset<=l&&(e.key=a,e.offset-=E,N.dirty=!0),t.key===r&&"text"===t.type&&t.offset>E&&t.offset<=l&&(t.key=a,t.offset-=E,N.dirty=!0)}o===r&&M(a),E=l,i.__parent=g,C.push(i)}if(null!==_)for(let e=0;e<_.length;e++){const{id:t,start:n,end:r}=_[e];let o=!1,i=!1,a=0;for(let e=0;e<c;e++){const l=C[e],c=a+s[e].length,d=!o&&null!==n&&c>n-(0===n?1:0)?n-a:null,u=!i&&null!==r&&c>=r?r-a:null;if(null!==d||null!==u){if(null!==d&&(o=!0),null!==u&&(i=!0),l.setMark(t,d,u),o&&i)break}else l.deleteMark(t);a=c}}A(this);const T=u.getWritable().__children,x=T.indexOf(r),v=C.map((e=>e.__key));return y?(T.splice(x,0,...v),this.remove()):T.splice(x,1,...v),dn(N)&&Sn(N,u,x,c-1),C}mergeWithSibling(e){const t=e===this.getPreviousSibling();if(!t&&e!==this.getNextSibling())throw Error("mergeWithSibling: sibling must be a previous or next sibling");const n=this.__key,r=e.__key,o=this.__text,i=o.length;R()===r&&M(n);const s=xn();if(dn(s)){const o=s.anchor,a=s.focus;null!==o&&o.key===r&&(wn(o,t,n,e,i),s.dirty=!0),null!==a&&a.key===r&&(wn(a,t,n,e,i),s.dirty=!0)}const a=e.__text,l=a.length,c=t?a+o:o+a;this.setTextContent(c);const d=this.getWritable(),u=e.getLatest().__marks;return null!==u&&Xn(d,u,t?l:0,0,i),e.remove(),d}isTextEntity(){return!1}}function Zn(e){const t="700"===e.style.fontWeight;return{forChild:e=>(rr(e)&&t&&e.toggleFormat("bold"),e),node:null}}function Qn(e){const t="normal"===e.style.fontWeight;return{forChild:e=>(rr(e)&&!t&&e.toggleFormat("bold"),e),node:null}}function Jn(e){return{node:nr(e.textContent)}}const er={em:"italic",i:"italic",strong:"bold",u:"underline"};function tr(e){const t=er[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(rr(e)&&e.toggleFormat(t),e),node:null}}function nr(e=""){return new qn(e)}function rr(e){return e instanceof qn}class or extends Dn{static getType(){return"paragraph"}static clone(e){return new or(e.__key)}createDOM(e){const t=document.createElement("p"),n=Z(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t){return!1}static importDOM(){return{p:e=>({conversion:ir,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);return t&&0===this.getTextContentSize()&&t.append(document.createElement("br")),{element:t}}insertNewAfter(){const e=sr(),t=this.getDirection();return e.setDirection(t),this.insertAfter(e),e}collapseAtStart(){const e=this.getChildren();if(0===e.length||rr(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function ir(){return{node:sr()}}function sr(){return new or}function ar(e,t,n,r){const o=e._keyToDOMMap;o.clear(),e._editorState=Fn(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[];const i=e._observer;null!==i&&(i.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",o.set("root",n))}function lr(e){const t=e||{},n=t.namespace||Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),r=t.theme||{},o=t.parentEditor||null,i=t.disableEvents||!1,s=Fn(),a=t.editorState,l=[In,qn,Kn,or,...t.nodes||[]],c=t.onError,d=t.readOnly||!1,u=new Map;for(let e=0;e<l.length;e++){const t=l[e],n=t.getType();u.set(n,{klass:t,transforms:new Set})}const g=new cr(s,o,u,{disableEvents:i,namespace:n,theme:r},c,function(e){const t=new Map,n=new Set;return e.forEach((e=>{const r=e.klass.importDOM;if(n.has(r))return;n.add(r);const o=r();null!==o&&Object.keys(o).forEach((e=>{let n=t.get(e);void 0===n&&(n=[],t.set(e,n)),n.push(o[e])}))})),t}(u),d);return void 0!==a&&(g._pendingEditorState=a,g._dirtyType=2),g}class cr{constructor(e,t,n,r,o,i,s){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,mutation:new Map,readonly:new Set,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=N(),this._onError=o,this._htmlConversions=i,this._readOnly=!1}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerReadOnlyListener(e){const t=this._listeners.readonly;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){if(void 0===n)throw Error('Listener for type "command" requires a "priority".');const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=r.get(e);if(void 0===o)throw Error(`registerCommand: Command ${e} not found in command map`);const i=o[n];return i.add(t),()=>{i.delete(t),o.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t){if(void 0===this._nodes.get(e.getType()))throw Error(`Node ${e.name} has not been registered. Ensure node has been passed to createEditor.`);const n=this._listeners.mutation;return n.set(t,e),()=>{n.delete(t)}}registerNodeTransform(e,t){const n=e.getType(),r=this._nodes.get(n);if(void 0===r)throw Error(`Node ${e.name} has not been registered. Ensure node has been passed to createEditor.`);const o=r.transforms;return o.add(t),function(e,t){jt(e,(()=>{const e=Lt();if(e.isEmpty())return;if("root"===t)return void F().markDirty();const n=e._nodeMap;for(const[,e]of n)e.markDirty()}),null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,n),()=>{o.delete(t)}}hasNodes(e){for(let t=0;t<e.length;t++){const n=e[t].getType();if(!this._nodes.has(n))return!1}return!0}dispatchCommand(e,t){return ne(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=this._pendingEditorState||this._editorState;if(this._rootElement=e,ar(this,t,e,n),null!==t&&(this._config.disableEvents||function(e){0!==We&&(We--,0===We)&&e.ownerDocument.removeEventListener("selectionchange",qe);const t=e.__lexicalEditor;null!=t&&(function(e){if(null!==e._parentEditor){const t=G(e),n=t[t.length-1]._key;Xe.get(n)===e&&Xe.delete(n)}else Xe.delete(e._key)}(t),e.__lexicalEditor=null);const n=Ve(e);for(let e=0;e<n.length;e++)n[e]();e.__lexicalEventHandles=[]}(t)),null!==e){const t=e.style;t.userSelect="text",t.whiteSpace="pre-wrap",t.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._dirtyType=2,tn(this),this._updateTags.add("history-merge"),Wt(this),this._config.disableEvents||function(e,t){0===We&&e.ownerDocument.addEventListener("selectionchange",qe),We++,e.__lexicalEditor=t;const n=Ve(e);for(let r=0;r<Ke.length;r++){const[o,i]=Ke[r],s="function"==typeof i?e=>{t.isReadOnly()||i(e,t)}:e=>{if(!t.isReadOnly())switch(o){case"cut":return ne(t,Pe,e);case"copy":return ne(t,De,e);case"paste":return ne(t,pe,e);case"dragstart":return ne(t,Re,e);case"dragend":return ne(t,$e,e);case"focus":return ne(t,Ie,e);case"blur":return ne(t,Le,e);case"drop":return ne(t,Me,e)}};e.addEventListener(o,s),n.push((()=>{e.removeEventListener(o,s)}))}}(e,this)}Gt("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){if(e.isEmpty())throw Error("setEditorState: the editor state is empty. Ensure the editor state's root node never becomes empty.");en(this);const n=this._pendingEditorState,r=this._updateTags,o=void 0!==t?t.tag:null;null===n||n.isEmpty()||(null!=o&&r.add(o),Wt(this)),this._pendingEditorState=e,this._dirtyType=2,this._compositionKey=null,null!=o&&r.add(o),Wt(this)}parseEditorState(e){return zt(JSON.parse(e),this)}update(e,t){jt(this,e,t)}focus(e){const t=this._rootElement;null!==t&&(t.setAttribute("autocapitalize","off"),jt(this,(()=>{const e=xn(),t=F();null!==e?e.dirty=!0:0!==t.getChildrenSize()&&t.selectEnd()}),{onUpdate:()=>{t.removeAttribute("autocapitalize"),e&&e()}}))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=n();null!==t&&t.removeAllRanges()}isReadOnly(){return this._readOnly}setReadOnly(e){this._readOnly=e,Gt("readonly",this,!0,e)}toJSON(){return{editorState:this._editorState}}}class dr extends Dn{constructor(e,t){super(t)}}function ur(e){return e instanceof dr}class gr extends Dn{}function fr(e){return e instanceof gr}class hr extends Dn{}function pr(e){return e instanceof hr}t.$createGridSelection=function(){const e=rn("root",0,"element"),t=rn("root",0,"element");return new un("root",e,t)},t.$createLineBreakNode=Wn,t.$createNodeFromParse=function(e,t){return Pt(),le(e,t,Ft(),null)},t.$createNodeSelection=function(){return new cn(new Set)},t.$createParagraphNode=sr,t.$createRangeSelection=function(){const e=rn("root",0,"element"),t=rn("root",0,"element");return new fn(e,t,0)},t.$createTextNode=nr,t.$getDecoratorNode=ee,t.$getNearestNodeFromDOMNode=P,t.$getNodeByKey=$,t.$getPreviousSelection=vn,t.$getRoot=F,t.$getSelection=xn,t.$isDecoratorNode=$n,t.$isElementNode=Pn,t.$isGridCellNode=ur,t.$isGridNode=fr,t.$isGridRowNode=pr,t.$isGridSelection=gn,t.$isLeafNode=O,t.$isLineBreakNode=Gn,t.$isNodeSelection=hn,t.$isParagraphNode=function(e){return e instanceof or},t.$isRangeSelection=dn,t.$isRootNode=Ln,t.$isTextNode=rr,t.$nodesOfType=function(e){const t=Lt(),n=t._readOnly,r=e.getType(),o=t._nodeMap,i=[];for(const[,t]of o)t instanceof e&&t.__type===r&&(n||t.isAttached())&&i.push(t);return i},t.$setCompositionKey=M,t.$setSelection=K,t.BLUR_COMMAND=Le,t.CAN_REDO_COMMAND={},t.CAN_UNDO_COMMAND={},t.CLEAR_EDITOR_COMMAND={},t.CLEAR_HISTORY_COMMAND={},t.CLICK_COMMAND=de,t.COMMAND_PRIORITY_CRITICAL=4,t.COMMAND_PRIORITY_EDITOR=0,t.COMMAND_PRIORITY_HIGH=3,t.COMMAND_PRIORITY_LOW=1,t.COMMAND_PRIORITY_NORMAL=2,t.COPY_COMMAND=De,t.CUT_COMMAND=Pe,t.DELETE_CHARACTER_COMMAND=ue,t.DELETE_LINE_COMMAND=ye,t.DELETE_WORD_COMMAND=_e,t.DRAGEND_COMMAND=$e,t.DRAGSTART_COMMAND=Re,t.DROP_COMMAND=Me,t.DecoratorNode=Rn,t.ElementNode=Dn,t.FOCUS_COMMAND=Ie,t.FORMAT_ELEMENT_COMMAND={},t.FORMAT_TEXT_COMMAND=Ne,t.GridCellNode=dr,t.GridNode=gr,t.GridRowNode=hr,t.INDENT_CONTENT_COMMAND={},t.INSERT_LINE_BREAK_COMMAND=ge,t.INSERT_PARAGRAPH_COMMAND=fe,t.INSERT_TEXT_COMMAND=he,t.KEY_ARROW_DOWN_COMMAND=Se,t.KEY_ARROW_LEFT_COMMAND=xe,t.KEY_ARROW_RIGHT_COMMAND=Te,t.KEY_ARROW_UP_COMMAND=ve,t.KEY_BACKSPACE_COMMAND=Oe,t.KEY_DELETE_COMMAND=ke,t.KEY_ENTER_COMMAND=be,t.KEY_ESCAPE_COMMAND=we,t.KEY_MODIFIER_COMMAND=Fe,t.KEY_TAB_COMMAND=Ae,t.OUTDENT_CONTENT_COMMAND={},t.PASTE_COMMAND=pe,t.ParagraphNode=or,t.REDO_COMMAND=Ee,t.REMOVE_TEXT_COMMAND=me,t.SELECTION_CHANGE_COMMAND=ce,t.TextNode=qn,t.UNDO_COMMAND=Ce,t.VERSION="0.2.5",t.createCommand=function(){return{}},t.createEditor=lr},2998:(e,t,n)=>{"use strict";const r=n(3843);e.exports=r},4279:()=>{Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean},5433:()=>{Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},8325:(e,t,n)=>{var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var s in r={},n[i]=r,t)t.hasOwnProperty(s)&&(r[s]=e(t[s],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||o.languages)[e],s={};for(var a in i)if(i.hasOwnProperty(a)){if(a==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(a)||(s[a]=i[a])}var c=r[e];return r[e]=s,o.languages.DFS(o.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,r,i){i=i||{};var s=o.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],r||a);var l=t[a],c=o.util.type(l);"Object"!==c||i[s(l)]?"Array"!==c||i[s(l)]||(i[s(l)]=!0,e(l,n,a,i)):(i[s(l)]=!0,e(l,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,s=0;i=r.elements[s++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){var i=o.util.getLanguage(t),s=o.languages[i];o.util.setLanguage(t,i);var a=t.parentElement;a&&"pre"===a.nodeName.toLowerCase()&&o.util.setLanguage(a,i);var l={element:t,language:i,grammar:s,code:t.textContent};function c(e){l.highlightedCode=e,o.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o.hooks.run("after-highlight",l),o.hooks.run("complete",l),r&&r.call(l.element)}if(o.hooks.run("before-sanity-check",l),(a=l.element.parentElement)&&"pre"===a.nodeName.toLowerCase()&&!a.hasAttribute("tabindex")&&a.setAttribute("tabindex","0"),!l.code)return o.hooks.run("complete",l),void(r&&r.call(l.element));if(o.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var d=new Worker(o.filename);d.onmessage=function(e){c(e.data)},d.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(o.highlight(l.code,l.grammar,l.language));else c(o.util.encode(l.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new l;return c(o,o.head,e),a(e,o,t,o.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function s(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function a(e,t,n,r,l,u){for(var g in n)if(n.hasOwnProperty(g)&&n[g]){var f=n[g];f=Array.isArray(f)?f:[f];for(var h=0;h<f.length;++h){if(u&&u.cause==g+","+h)return;var p=f[h],m=p.inside,_=!!p.lookbehind,y=!!p.greedy,N=p.alias;if(y&&!p.pattern.global){var C=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,C+"g")}for(var E=p.pattern||p,T=r.next,x=l;T!==t.tail&&!(u&&x>=u.reach);x+=T.value.length,T=T.next){var v=T.value;if(t.length>e.length)return;if(!(v instanceof i)){var S,b=1;if(y){if(!(S=s(E,x,e,_))||S.index>=e.length)break;var O=S.index,w=S.index+S[0].length,k=x;for(k+=T.value.length;O>=k;)k+=(T=T.next).value.length;if(x=k-=T.value.length,T.value instanceof i)continue;for(var A=T;A!==t.tail&&(k<w||"string"==typeof A.value);A=A.next)b++,k+=A.value.length;b--,v=e.slice(x,k),S.index-=x}else if(!(S=s(E,0,v,_)))continue;O=S.index;var M=S[0],R=v.slice(0,O),$=v.slice(O+M.length),D=x+v.length;u&&D>u.reach&&(u.reach=D);var P=T.prev;if(R&&(P=c(t,P,R),x+=R.length),d(t,P,b),T=c(t,P,new i(g,m?o.tokenize(M,m):M,N,M)),$&&c(t,T,$),b>1){var I={cause:g+","+h,reach:D};a(e,t,n,T.prev,x,I),u&&I.reach>u.reach&&(u.reach=I.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function d(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(i.classes,s):i.classes.push(s)),o.hooks.run("wrap",i);var a="";for(var l in i.attributes)a+=" "+l+'="'+(i.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+a+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,s=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),s&&e.close()}),!1),o):o;var u=o.util.currentScript();function g(){o.manual||o.highlightAll()}if(u&&(o.filename=u.src,u.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var f=document.readyState;"loading"===f||"interactive"===f&&u&&u.defer?document.addEventListener("DOMContentLoaded",g):window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,16)}return o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=r),void 0!==n.g&&(n.g.Prism=r)},5251:()=>{!function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism)},9980:()=>{Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript},4064:()=>{!function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var o=t[n];if("code"===o.type){var i=o.content[1],s=o.content[3];if(i&&s&&"code-language"===i.type&&"code-block"===s.type&&"string"==typeof i.content){var a=i.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(a=(/[a-z][\w-]*/i.exec(a)||[""])[0].toLowerCase());s.alias?"string"==typeof s.alias?s.alias=[s.alias,l]:s.alias.push(l):s.alias=[l]}}else e(o.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,o=t.classes.length;r<o;r++){var i=t.classes[r],c=/language-(.+)/.exec(i);if(c){n=c[1];break}}var d=e.languages[n];if(d)t.content=e.highlight(t.content.replace(s,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var n;return"#"===(t=t.toLowerCase())[0]?(n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),l(n)):a[t]||e})),d,n);else if(n&&"none"!==n&&e.plugins.autoloader){var u="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=u,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(u);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}}));var s=RegExp(e.languages.markup.tag.pattern.source,"gi"),a={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism)},4335:()=>{Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},1426:()=>{Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec},366:()=>{Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},767:()=>{!function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,(function(){return t}));t=t.replace(/<self>/g,(function(){return/[^\s\S]/.source})),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism)},5266:()=>{Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}},874:()=>{Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach((function(e){e.inside.interpolation.inside=Prism.languages.swift}))},8156:t=>{"use strict";t.exports=e},7111:e=>{"use strict";e.exports=t}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";o.r(i),o.d(i,{default:()=>L});var e=o(8156),t=o.n(e),n=o(2292),r=o.n(n),s=o(6898),a=o.n(s),l=o(6146),c=o.n(l),d=o(4506),u=o(7846),g=o.n(u),f=o(9421),h=o.n(f),p=o(8957),m=o.n(p),_=o(7632),y=o.n(_),N=o(1954),C=o.n(N),E=o(3277),T=o(2903),x=o(4783),v=o(3435),S=o(1058),b=o(4260);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const w=(0,e.forwardRef)((function(t,n){var r,o,i=(r=(0,b.useLexicalComposerContext)(),o=1,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(r,o)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return(0,e.useImperativeHandle)(n,(function(){return{getEditorState:function(){return i.getEditorState()}}}),[i]),(0,e.useEffect)((function(){try{t.defaultValue&&i.setEditorState(i.parseEditorState(t.defaultValue))}catch(e){console.error(e)}}),[i,t.defaultValue]),(0,e.useEffect)((function(){i.setReadOnly(t.isReadonly||!1)}),[i,t.isReadonly]),null}));function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const A=function(){var t,n,r=(t=(0,b.useLexicalComposerContext)(),n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return(0,e.useEffect)((function(){return(0,E.registerCodeHighlighting)(r)}),[r]),null};var M=o(2998);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const I=function(){var n=$((0,b.useLexicalComposerContext)(),1)[0],r=$((0,e.useState)(100),2),o=r[0],i=r[1],s=$((0,e.useState)(200),2),a=s[0],l=s[1],c=$((0,e.useState)(!1),2),d=c[0],u=c[1],g=$((0,e.useState)(null),2),f=g[0],h=g[1],p=(0,e.useMemo)((function(){return(0,E.getCodeLanguages)()}),[]);return n.isReadOnly()?null:((0,e.useEffect)((function(){n.registerMutationListener(E.CodeNode,(function(e){var t,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{var o=function(){var e,r=$(t.value,2),o=r[0];if("created"!==r[1])return{v:void 0};var s=n.getElementByKey(o),a=(0,M.$getNodeByKey)(o);null==s||s.addEventListener("click",(function(e){var t=e.target;u((function(e){return!e})),h(a),i(e.clientY-e.offsetY+28),l(e.clientX-e.offsetX+t.clientWidth-88),e.stopPropagation()})),null===(e=document)||void 0===e||e.addEventListener("click",(function(){u(!1)}))};for(r.s();!(t=r.n()).done;){var s=o();if("object"===R(s))return s.v}}catch(e){r.e(e)}finally{r.f()}}))}),[]),t().createElement("div",{className:"beeeditor-code-selector",style:{display:d?"unset":"none",top:o,left:a}},t().createElement("ul",{style:{listStyleType:"none",padding:0,margin:0}},p.map((function(e){return t().createElement("li",{key:e,style:{cursor:"pointer",textAlign:"center",marginTop:"8px",marginBottom:"8px"},onClick:function(){n.update((function(){null==f||f.setLanguage(e)}))}},e)})))))},L=(0,e.forwardRef)((function(e,n){var o={theme:F({isReadonly:e.isReadonly}),onError:function(e){throw e},nodes:[T.HeadingNode,x.ListNode,x.ListItemNode,T.QuoteNode,E.CodeNode,E.CodeHighlightNode,S.TableNode,S.TableCellNode,S.TableRowNode,v.AutoLinkNode,v.LinkNode]};return t().createElement(r(),{initialConfig:o},t().createElement(t().Fragment,null,e.children),t().createElement(c(),{contentEditable:t().createElement(a(),{className:"beeeditor-input"}),placeholder:null}),t().createElement(w,{defaultValue:e.defaultValue,ref:n,isReadonly:e.isReadonly}),t().createElement(d.HistoryPlugin,null),t().createElement(g(),null),t().createElement(m(),null),t().createElement(h(),null),t().createElement(y(),null),t().createElement(C(),{onChange:function(){}}),t().createElement(A,null),t().createElement(I,null))}));var F=function(e){return{heading:{h1:"beeeditor-heading-h1",h2:"beeeditor-heading-h2",h3:"beeeditor-heading-h3",h4:"beeeditor-heading-h4",h5:"beeeditor-heading-h5"},code:"beeeditor-code".concat(e.isReadonly?" beeeditor-code-readonly":""),quote:"beeeditor-quote",list:{listitem:"beeeditor-list-listitem"}}}})(),i})()));